.account-main
{
    width: calc(100% - #{$standard-spacing * 2});
    height: calc(100% - #{$header-height + $account-bottom-bar-height});
    margin: 0 $standard-spacing;

    .top-section
    {
        width: inherit;
        background-color: $primary-color;
        border-bottom-left-radius: $border-radius;
        border-bottom-right-radius: $border-radius;
        width: 100%;

        .search-add-content
        {
            @include flex;

            .search-bar
            {
                @include input-container($has-icon: false);

                margin-bottom: 0;
                width: 100%;
                transition: $transition-time;

                &:focus-within
                {
                    // Make it appear above the header just during focus to avoid seeing the top box-shadow under it
                    z-index: 999;
                }
            }

            #add-content
            {
                @include button;

                margin-left: $standard-spacing;
            }
        }

        .folder-nav
        {
            @include flex($justify-content: space-between);

            display: none;
            margin-top: $standard-spacing;

            .back-button,
            .empty-trash-button,
            .lock-vault-button
            {
                @include button($focus-effect: box-shadow);
            }

            .back-button
            {
                @include flex;

                margin-right: $standard-spacing;

                span::before
                {
                    content: " ";
                    white-space: pre;
                }

                &.target
                {
                    box-shadow: 0 0 10px $secondary-color;
                }
            }

            .empty-trash-button
            {
                width: 100%;
            }

            .folder-name
            {
                @include text-ellipsis-on-overflow;

                margin: 0;

                .spinner
                {
                    font-size: unset;
                    margin: 0;
                }
            }
        }

        @at-root .add-content-options
        {
            display: none;

            .buttons-container
            {
                @include flex($flex-direction: column, $align-items: unset);
            }

            .input-container
            {
                display: none;
            }
        }
    }

    .empty-folder
    {
        @include flex($flex-direction: column);

        display: none;

        h2
        {
            margin: $standard-spacing 0 $standard-spacing * 2 0;
            text-align: center;
        }

        img
        {
            width: 30%;
        }
    }

    .user-content
    {
        overflow: auto;
        padding: $standard-spacing;
        padding-bottom: 0;
        margin: 0 #{-$standard-spacing};

        .vault
        {
            @include flex($align-items: unset, $justify-content: space-between, $flex-wrap: nowrap);

            background-color: #444d56;
            color: $secondary-color;
            border: $border-width solid #444d56;
            border-radius: $border-radius;
            width: 100%;
            cursor: pointer;
            margin-bottom: $standard-spacing;
            transition: box-shadow $transition-time;
            display: none;
    
            .icon
            {
                @include flex;

                i
                {
                    width: 40px;
                    height: 100%;
                    background-position: center;
                    background-repeat: no-repeat;
                    background-size: contain;
                    background-origin: content-box;
                    padding: 5px;
                    background-color: $primary-color;
                    border-radius: $border-radius;
                    background-image: url("/assets/img/icons/languages/lock.svg");
                }
            }
    
            .name
            {
                @include flex($justify-content: unset);
    
                margin: 0 0 0 $border-width;
                width: 100%;
                overflow: hidden;
                transition: $transition-time;
                border-radius: $border-radius;
                padding: 10px;
                border: $border-width solid $primary-color;
                background-color: #444d56;
    
                p
                {
                    @include text-ellipsis-on-overflow;
    
                    margin: 0;
                }
            }

            .menu-button
            {
                @include flex($align-items: unset);
    
                button
                {
                    @include button($bg-color: #444d56, $border-color: $primary-color);
        
                    margin-left: $border-width;
                }
            }
    
            &:hover:not(.no-hover),
            &:focus,
            &:focus-within
            {
                box-shadow: 0 0 10px $secondary-color;
            }

            &.disabled.target:hover
            {
                box-shadow: unset;

                &,
                *
                {
                    cursor: not-allowed !important;
                }
            }
        }

        .folders-container,
        .files-container
        {
            @include flex($justify-content: unset, $align-items: unset, $flex-wrap: wrap);

            @each $element in ("folder", "file")
            {
                @at-root div.#{$element}
                {
                    @include flex($align-items: unset, $justify-content: space-between, $flex-wrap: nowrap);

                    background-color: $secondary-color;
                    color: $primary-color;
                    border: $border-width solid $secondary-color;
                    border-radius: $border-radius;
                    flex: 1 1 calc((100% / 3) - (#{$standard-spacing} * 2 / 3));
                    min-width: calc((100% / 3) - (#{$standard-spacing} * 2 / 3));
                    cursor: pointer;
                    margin-bottom: $standard-spacing;
                    transition: box-shadow $transition-time;
    
                    .icon
                    {
                        @include flex;

                        i
                        {
                            width: 40px;
                            height: 100%;
                            background-position: center;
                            background-repeat: no-repeat;
                            background-size: contain;
                            background-origin: content-box;
                            padding: 5px;
                            background-color: $primary-color;
                            border-radius: $border-radius;
                        }
                    }
    
                    .name
                    {
                        @include flex($justify-content: unset);
    
                        margin: 0 0 0 $border-width;
                        width: 100%;
                        overflow: hidden;
                        transition: $transition-time;
                        border-radius: $border-radius;
                        padding: 10px;
                        border: $border-width solid $primary-color;
                        background-color: $secondary-color;
    
                        p
                        {
                            @include text-ellipsis-on-overflow;
    
                            margin: 0;
                        }
                    }
    
                    .menu-button
                    {
                        @include flex($align-items: unset);
    
                        button
                        {
                            @include button($border-color: $primary-color);
        
                            margin-left: $border-width;
                        }
                    }
    
                    &.dragging
                    {
                        position: fixed;
                        z-index: 999;
                        margin: 0 !important;
                    }
    
                    &.placeholder,
                    &.disabled
                    {
                        opacity: 0.5;

                        &:hover
                        {
                            &,
                            *
                            {
                                cursor: not-allowed !important;
                            }
                        }
                    }
    
                    &:nth-child(3n + 2)
                    {
                        margin-left: $standard-spacing;
                    }
    
                    &:nth-child(3n + 2):not(:last-child)
                    {
                        margin-right: $standard-spacing;
                    }
    
                    &:hover:not(.no-hover),
                    &:focus,
                    &:focus-within,
                    &.target,
                    &.selected
                    {
                        box-shadow: 0 0 10px $secondary-color;
                    }
                }
            }

            @at-root div.file
            {
                .name
                {
                    background-color: $primary-color;
                    color: $secondary-color;
                }
            }
        }

        .edit-info
        {
            display: none;
        }
    }
}