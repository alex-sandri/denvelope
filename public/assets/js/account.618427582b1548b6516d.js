!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=13)}([function(e,t,n){"use strict";var a;n.d(t,"u",(function(){return o})),n.d(t,"v",(function(){return s})),n.d(t,"m",(function(){return i})),n.d(t,"n",(function(){return r})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"s",(function(){return d})),n.d(t,"l",(function(){return m})),n.d(t,"p",(function(){return u})),n.d(t,"r",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return g})),n.d(t,"h",(function(){return v})),n.d(t,"i",(function(){return b})),n.d(t,"t",(function(){return y})),n.d(t,"j",(function(){return w})),n.d(t,"k",(function(){return x})),n.d(t,"q",(function(){return E})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return k})),n.d(t,"o",(function(){return S}));const o=(e,t)=>{e.style.display=null!=t?t:"block"},s=(e,t)=>e.forEach(e=>o(e,t)),i=e=>{e.style.display="none"},r=e=>e.forEach(e=>i(e)),l=(e,t)=>e.classList.add(t),c=(e,t)=>t.filter(e=>e.length>0).forEach(t=>l(e,t)),d=(e,t)=>e.classList.remove(t),m=(e,t)=>e.classList.contains(t),u=e=>null!=e,f=()=>{document.addEventListener("drag",e=>e.preventDefault()),document.addEventListener("dragend",e=>e.preventDefault()),document.addEventListener("dragenter",e=>e.preventDefault()),document.addEventListener("dragexit",e=>e.preventDefault()),document.addEventListener("dragleave",e=>e.preventDefault()),document.addEventListener("dragover",e=>e.preventDefault()),document.addEventListener("dragstart",e=>e.preventDefault()),document.addEventListener("drop",e=>e.preventDefault())},p=(e,t)=>window.dispatchEvent(new CustomEvent(e,t)),h=e=>{let t="",n=0,a=e;for(n=0;a>=1e3;n++)a/=1e3;switch(n){case 0:t="B";break;case 1:t="KB";break;case 2:t="MB";break;case 3:t="GB";break;case 4:t="TB";break;case 5:t="PB";break;case 6:t="EB";break;case 7:t="ZB";break;case 8:t="YB"}return+a.toFixed(2)+t},g=(e,t)=>new Date(e).toLocaleDateString(document.documentElement.lang,t||{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}),v=e=>{let t=document.querySelector("input[name=folder-id]").value;return"trash"!==t&&"starred"!==t&&"shared"!==t&&"vault"!==t||u(e)&&e||(t="root"),t},b=async e=>new Promise(t=>{""!==v(e).trim()&&t(v(e)),document.querySelector("input[name=folder-id]").addEventListener("change",()=>t(v(e)),{once:!0})}),y=e=>{document.querySelector("input[name=folder-id]").value=e},w=()=>firebase.firestore.FieldValue.serverTimestamp(),x=()=>({updated:w(),lastClientUpdateTime:new firebase.firestore.Timestamp.now}),E=(null===(a=window.trustedTypes)||void 0===a||a.createPolicy("escapePolicy",{createHTML:e=>(e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/\//g,"&#x2F;"))(e)}),()=>firebase.analytics().logEvent("page_view",{page_location:location.href,page_path:location.pathname,page_title:document.title,offline:!navigator.onLine,isPwa:navigator.standalone||window.matchMedia("(display-mode: standalone)").matches})),j=()=>indexedDB.deleteDatabase("firestore/[DEFAULT]/denvelope-firebase/main"),k=()=>{j(),indexedDB.deleteDatabase("firebase-installations-database"),indexedDB.deleteDatabase("firebaseLocalStorageDb");const e=localStorage.getItem("lang");localStorage.clear(),localStorage.setItem("cookie-consent","true"),localStorage.setItem("lang",e)},S=e=>0===(e=>{switch(e){case"1GB":return 1;case"10GB":return 2;default:return 0}})(h(e))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return i}));class a{constructor(e,t){if(this.type=e,this.options=t,this.element=document.createElement(e),t){if(t.aria&&(Array.from(Object.keys(t.aria)).forEach((e,n)=>this.element.setAttribute(`aria-${e}`,Object.values(t.aria)[n])),delete t.aria),t.children&&(t.children.forEach(e=>this.element.appendChild(e)),delete t.children),t.data&&(Array.from(Object.keys(t.data)).forEach((e,n)=>this.element.setAttribute(`data-${e}`,Object.values(t.data)[n])),delete t.data),t.style){const e={};Object.keys(t.style).forEach((n,a)=>{this.element.style[n]=e[n]=Object.values(t.style)[a]}),delete t.style}t.innerText&&(this.element.innerText=t.innerText,delete t.innerText),Array.from(Object.keys(t)).forEach((e,n)=>this.element.setAttribute(e,Object.values(t)[n]))}}}class o extends a{constructor(e){var t,n;super("div",{class:null!==(t=e.class)&&void 0!==t?t:"input",children:[new a("input",{...e.attributes}).element,...null!==(n=e.children)&&void 0!==n?n:[]]}),this.options=e}}class s extends o{constructor(e){var t;super({class:"input-with-icon",children:[new a("div",{class:"input-icon",aria:{hidden:!0},tabindex:-1,children:[new a("i",{class:e.iconClassName}).element]}).element],attributes:e.attributes}),this.options=e,"password"===(null===(t=e.attributes)||void 0===t?void 0:t.type)&&this.element.querySelector(".input-icon").addEventListener("click",()=>{this.element.querySelector("input").type="password"===this.element.querySelector("input").type?"text":"password"})}}class i extends a{constructor(){super("span",{class:"spinner",children:[new a("i",{class:"fas fa-circle-notch fa-fw"}).element]})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a={language:{name:"English (United States)"},accessibility:{keyboard_shortcuts:"Keyboard shortcuts",view_account_content:"View account content",view_shared_content:"View shared content",view_starred_content:"View starred content",view_trash:"View trash",close_modal:"Close modal",delete_selected_content:"Delete selected content",open_close_account_menu:"Open / Close account menu",download_current_folder:"Download current folder"},account:{title:"Your Account",icons8_message:"Some folder and file icons are provided by",add_files:"Add files",add_folder:"Add folder",create_file:"Create file",create_folder:"Create folder",shared:"Shared",starred:"Starred",recents:"Recents",trash:"Trash",empty_trash:"Empty trash",create_vault:"Create vault",display_image:"Display image",display_pdf:"Display PDF",validate_xml:"Validate XML",validate_json:"Validate JSON",image_address:"Image address",what_is_taking_up_space:"What's taking up space?",upgrade_plan:"Upgrade",goto:"Go to your account",context_menu:{move:{impossible:"Impossible to move this item, there are no folders to move this into"}}},api:{messages:{file:{deleted:"File deleted permanently",restored:"File restored successfully",moved_to_trash:"File moved to trash",downloading:"Downloading"},folder:{deleted:"Folder deleted permanently",restored:"Folder restored successfully",moved_to_trash:"Folder moved to trash",empty:"This folder is empty",no_search_results:"There are no elements matching this",compressing:"Creating compressed folder",choose_download_format:"Choose download format",offline:"You are currently offline",vault_empty:"The vault is empty",no_recents:"There are no recent files"},user:{not_enough_storage:"You do not have enough storage space for this file"},vault:{set_pin:"Set PIN",unlock:"Unlock vault",wrong_pin:"The entered PIN is wrong",pin_or_recovery_code:"PIN or Recovery Code"}},languages:{cloud_firestore_indexes:"Cloud Firestore Indexes",cloud_firestore_security_rules:"Cloud Firestore Security Rules",document:"Document",file:"File",folder:"Folder",image:"Image"}},cookie_banner:{text:"We use cookies so that Denvelope works for you. By using our website, you agree with our use of cookies.",learn_more:"Learn more"},cookies:{text:"Cookies are small data files sent to your browser when you visit a site. We use both our own cookies, as well as third-party cookies, to do a few different things",why:{access_services:"Log you in to our services",remember_settings:"Remember preferences and settings",secure_account:"Keep your account secure",improve_services:"Better understand how people are using our services and how we can improve"},opt_out:{title:"Opt-Out",text:"You can set your browser to not accept cookies, but this may limit your ability to use the Services."}},errors:{empty:"This field cannot be empty",offline:"You are offline. To complete this action you need an Internet connection",user_content:{already_exists:"An element with this name already exists"},vault_pin_too_short:"The vault PIN must be at least 4 characters long",invalid_url:"The entered URL is invalid",url_must_be_https:"The URL must use HTTPS"},generic:{contact_us:"Contact Us",cookies:"Cookies",privacy:"Privacy",terms:"Terms",view:"View",save:"Save",save_to_my_account:"Save to my account",share:"Share",sharing_options:"Sharing options",copy_shareable_link:"Copy shareable link",unshare:"Unshare",move:"Move",add_to_starred:"Add to Starred",remove_from_starred:"Remove from Starred",rename:"Rename",edit:"Edit",info:"Info",download:"Download",restore:"Restore",delete:"Delete",close:"Close",back:"Back",settings:"Settings",sign_out:"Sign Out",load_more:"Load more",search:"Search",username:"Username",email:"Email",password:"Password",language:"Language",current:"Current",confirm:"Confirm",update:"Update",terms_of_service:"Terms of Service",privacy_policy:"Privacy Policy",cookie_policy:"Cookie Policy",version:"Version",account:"Account",name:"Name",folder:"Folder",folders:"Folders",file:"File",files:"Files",install:"Install",id:"ID",created:"Created",last_modified:"Last modified",type:"Type",size:"Size",shared:"Shared",starred:"Starred",position:"Position",keyboard_shortcut:"Keyboard shortcut",accessibility:"Accessibility",are_you_sure:"Are you sure?",vault:"Vault",lock:"Lock",unlock:"Unlock",no_errors_found:"No errors found",reset:"Reset",sign_in:"Sign In",example:"Example",reference:"Reference",default:"Default",yes:"Yes",no:"No",month:"Month",year:"Year",from:"From",to:"To",add:"Add",plans:"Plans",disable:"Disable",enable:"Enable",billing_period:"Billing period",coming_soon:"Coming soon"},header:{storage:{of:"of",used:"used"}},home:{title:"Denvelope",description:"Denvelope lets you store, edit and share your code in a simple, fast and reliable way",hero:{heading:"Say hello to your code's next home",subheading:"Denvelope is the perfect place to store, edit and share your code in a simple, fast and reliable way"},feature_section:{open_source:{title:"We are Open Source",description:"Denvelope is an and Open Source project."},store:{title:"Never lose your code again",description:"With Denvelope you can now store your code in a secure place. Never worry again about losing your projects."},view_edit:{title:"Access and edit your code from wherever you are",description:"Denvelope lets you view and edit your code from any device with the built-in code editor."},share:{title:"Need to share a piece of code or an entire project?",description:"With Denvelope you can just click a button and the link to that file or project is copied and ready to be shared. You can even hide files or folders inside a project if you don't want to share them but still want to share it."},vault:{title:"Vault",description:"Denvelope has a vault where you can store extremely important files."},pwa:{title:"Progressive Web App",description:"Denvelope is a PWA, this means you can install it basically everywhere. This has the advantage of the very small install size."}}},page_not_found:{title:"Page Not Found",description:"The specified file was not found on this website. Please check the URL for mistakes and try again."},pwa:{update_available:"Update available"},settings:{general:{title:"General",background:"Background",date_format:"Date format"},plan:{title:"Plan",info:"Once you subscribe to a plan the selected currency becomes the default one and it won't be possible to change it.",change_plan:{title:"Change plan",change:"Change"},delete_plan:{title:"Delete plan",message:"The plan will be cancelled at the current period end"},payment_methods:{title:"Payment methods",set_as_default:"Set as default"},current_billing_period:"Current billing period",next_renewal:"Next renewal",next_period_plan:"Your plan after this period",next_billing_period:"Your next billing period",subscription_end:"Subscription end",no_payment_method:"You haven't added any payment method",reactivate_subscription:"Reactivate subscription",complete_payment:"Complete payment",cancel_downgrade:"Cancel downgrade",manage_subscription:"Manage subscription",currency:"USD"},security:{title:"Security",sign_out_from_all_devices:"Sign Out from all devices",change_vault_pin:{current_or_recovery_code:"Current PIN or Recovery Code",new:"New PIN"},delete_vault:"Delete vault",vault:{change_pin:"Change PIN",generate_recovery_code:"Generate recovery code",recovery_code_info:"The recovery code expires after the first use"}},advanced:{title:"Advanced",delete_account:"Delete account",cache_size:"Cache size"},privacy:{title:"Privacy",clear_cache:{title:"Clear cache",clear:"Clear"},tracking:"Tracking"},info:{title:"Info"},changes_will_be_applied_at_the_next_page_load:"Changes will be applied at the next page load"},share:{check_out:"Check out",on_denvelope:"on Denvelope"},vault:{info:"If you delete an element inside the vault it will be deleted immediately, you won't be able to restore it."}},o={language:{name:"Italiano"},accessibility:{keyboard_shortcuts:"Scorciatoie da tastiera",view_account_content:"Vedi contenuti account",view_shared_content:"Vedi contenuti condivisi",view_starred_content:"Vedi contenuti preferiti",view_trash:"Vedi cestino",close_modal:"Chiudi modale",delete_selected_content:"Elimina contenuti selezionati",open_close_account_menu:"Apri / Chiudi menu account",download_current_folder:"Scarica cartella attuale"},account:{title:"Il tuo account",icons8_message:"Alcune icone di cartelle e file sono fornite da",add_files:"Aggiungi file",add_folder:"Aggiungi cartella",create_file:"Crea file",create_folder:"Crea cartella",shared:"Condivisi",starred:"Preferiti",recents:"Recenti",trash:"Cestino",empty_trash:"Svuota cestino",create_vault:"Crea cassaforte",display_image:"Mostra immagine",display_pdf:"Mostra PDF",validate_xml:"Valida XML",validate_json:"Valida JSON",image_address:"Indirizzo dell'immagine",what_is_taking_up_space:"Cosa occupa spazio?",upgrade_plan:"Effettua l'upgrade",goto:"Vai al tuo account",context_menu:{move:{impossible:"Impossibile spostare questo elemento, non ci sono cartelle in cui spostarlo"}}},api:{messages:{file:{deleted:"File eliminato permanentemente",restored:"File ripristinato con successo",moved_to_trash:"File spostato nel cestino",downloading:"Scaricando"},folder:{deleted:"Cartella eliminata permanentemente",restored:"Cartella ripristinata con successo",moved_to_trash:"Cartella spostata nel cestino",empty:"Questa cartella è vuota",no_search_results:"Non ci sono elementi corrispondenti a questo",compressing:"Creando cartella compressa",choose_download_format:"Scegli formato download",offline:"Sei attualmente offline",vault_empty:"La cassaforte è vuota",no_recents:"Non ci sono file recenti"},user:{not_enough_storage:"Non hai spazio di archiviazione sufficiente per questo file"},vault:{set_pin:"Imposta PIN",unlock:"Sblocca cassaforte",wrong_pin:"Il PIN inserito non è corretto",pin_or_recovery_code:"PIN o Codice di Recupero"}},languages:{cloud_firestore_indexes:"Indici di Cloud Firestore",cloud_firestore_security_rules:"Regole di Sicurezza di Cloud Firestore",document:"Documento",file:"File",folder:"Cartella",image:"Immagine"}},cookie_banner:{text:"Usiamo i cookie per rendere possibile il corretto funzionamento di Denvelope per te. Utilizzando il nostro sito, accetti le nostre modalità di utilizzo dei cookie.",learn_more:"Ulteriori informazioni"},cookies:{text:"I cookie sono piccoli file di dati inviati al tuo browser quando visiti un sito. Utilizziamo sia i nostri cookie che quelli di terze parti per varie finalità",why:{access_services:"Farti accedere ai nostri servizi",remember_settings:"Ricordare preferenze e impostazioni",secure_account:"Mantenere al sicuro il tuo account",improve_services:"Capire meglio in che modo gli utenti utilizzano i nostri servizi e migliorarli"},opt_out:{title:"Disattivazione",text:"Puoi impostare il tuo browser in modo che non accetti i cookie, ma ciò potrebbe limitare la possibilità di utilizzare i nostri Servizi."}},errors:{empty:"Questo campo non può essere vuoto",offline:"Sei offline. Per completare questa azione devi disporre di una connessione ad Internet",user_content:{already_exists:"Un elemento con questo nome esiste già"},vault_pin_too_short:"Il PIN della cassaforte deve avere almeno 4 caratteri",invalid_url:"L'URL inserito non è valido",url_must_be_https:"L'URL deve usare HTTPS"},generic:{contact_us:"Contattaci",cookies:"Cookie",privacy:"Privacy",terms:"Termini",view:"Vedi",save:"Salva",save_to_my_account:"Salva nel mio account",share:"Condividi",sharing_options:"Opzioni di condivisione",copy_shareable_link:"Copia link condivisibile",unshare:"Rimuovi condivisione",move:"Sposta",add_to_starred:"Aggiungi ai Preferiti",remove_from_starred:"Rimuovi dai Preferiti",rename:"Rinomina",edit:"Modifica",info:"Informazioni",download:"Scarica",restore:"Ripristina",delete:"Elimina",close:"Chiudi",back:"Indietro",settings:"Impostazioni",sign_out:"Esci",load_more:"Carica di più",search:"Cerca",username:"Nome utente",email:"Email",password:"Password",language:"Lingua",current:"Attuale",confirm:"Conferma",update:"Aggiorna",terms_of_service:"Termini di Servizio",privacy_policy:"Norme sulla Privacy",cookie_policy:"Norme sui Cookie",version:"Versione",account:"Account",name:"Nome",folder:"Cartella",folders:"Cartelle",file:"File",files:"File",install:"Installa",id:"ID",created:"Creato",last_modified:"Ultima modifica",type:"Tipo",size:"Dimensioni",shared:"Condiviso",starred:"Preferito",position:"Posizione",keyboard_shortcut:"Scorciatoia da tastiera",accessibility:"Accessibilità",are_you_sure:"Sei sicuro?",vault:"Cassaforte",lock:"Blocca",unlock:"Sblocca",no_errors_found:"Non sono stati trovati errori",reset:"Ripristina",sign_in:"Accedi",example:"Esempio",reference:"Riferimento",default:"Predefinito",yes:"Sì",no:"No",month:"Mese",year:"Anno",from:"Da",to:"A",add:"Aggiungi",plans:"Piani",disable:"Disabilita",enable:"Abilita",billing_period:"Periodo di fatturazione",coming_soon:"In arrivo"},header:{storage:{of:"di",used:"in uso"}},home:{title:"Denvelope",description:"Denvelope ti permette di salvare, modificare e condividere il tuo codice in modo semplice, veloce e affidabile",hero:{heading:"Saluta la nuova casa del tuo codice",subheading:"Denvelope è il posto perfetto per salvare, modificare e condividere il tuo codice in modo semplice, veloce e affidabile"},feature_section:{open_source:{title:"Noi siamo Open Source",description:"Denvelope è un progetto Open Source."},store:{title:"Non perdere più il tuo codice",description:"Con Denvelope puoi ora salvare il tuo codice in un posto sicuro. Non dovrai più preoccuparti di perdere i tuoi file o progetti."},view_edit:{title:"Visualizza e modifica il tuo codice da dovunque tu sia",description:"Denvelope ti permette di vedere e modificare il tuo codice da qualunque dispositivo con l'editor integrato."},share:{title:"Hai bisogno di condividere un pezzo di codice o un intero progetto?",description:"Con Denvelope puoi semplicemente cliccare un bottone e il link a quel file o progetto è copiato e pronto per essere condiviso. Puoi inoltre nascondere file o cartelle all'interno di un progetto se non vuoi che siano visibili ma vuoi comunque condividerlo."},vault:{title:"Cassaforte",description:"Denvelope dispone di una cassaforte, il posto perfetto per archiviare file di estrema importanza."},pwa:{title:"Progressive Web App",description:"Denvelope è una PWA, il che vuol dire che puoi installarlo praticamente ovunque. Questo ha il vantaggio delle piccolissime dimensioni di installazione."}}},page_not_found:{title:"Pagina Non Trovata",description:"Il file specificato non è stato trovato in questo sito. Controlla l'URL per eventuali errori e riprova."},pwa:{update_available:"Aggiornamento disponibile"},settings:{general:{title:"Generali",background:"Sfondo",date_format:"Formato della data"},plan:{title:"Piano",info:"Una volta sottoscritto un piano la valuta selezionata diventa quella predefinita e non sarà possibile cambiarla.",change_plan:{title:"Cambia piano",change:"Cambia"},delete_plan:{title:"Cancella piano",message:"Il piano verrà cancellato alla fine del periodo corrente"},payment_methods:{title:"Metodi di pagamento",set_as_default:"Imposta come predefinito"},current_billing_period:"Periodo di fatturazione attuale",next_renewal:"Prossimo rinnovo",next_period_plan:"Il tuo piano dopo questo periodo",next_billing_period:"Il tuo prossimo periodo di fatturazione",subscription_end:"Fine sottoscrizione",no_payment_method:"Non hai aggiunto nessun metodo di pagamento",reactivate_subscription:"Riattiva sottoscrizione",complete_payment:"Completa pagamento",cancel_downgrade:"Annulla downgrade",manage_subscription:"Gestisci sottoscrizione",currency:"EUR"},security:{title:"Sicurezza",sign_out_from_all_devices:"Esci da tutti i dispositivi",change_vault_pin:{current_or_recovery_code:"PIN attuale o Codice di Recupero",new:"Nuovo PIN"},delete_vault:"Elimina cassaforte",vault:{change_pin:"Cambia PIN",generate_recovery_code:"Genera codice di recupero",recovery_code_info:"Il codice di recupero scade dopo il primo utilizzo"}},advanced:{title:"Avanzate",delete_account:"Elimina account",cache_size:"Dimensioni cache"},privacy:{title:"Privacy",clear_cache:{title:"Svuota cache",clear:"Svuota"},tracking:"Tracciamento"},info:{title:"Informazioni"},changes_will_be_applied_at_the_next_page_load:"Le modifiche saranno applicate al prossimo caricamento di pagina"},share:{check_out:"Guarda",on_denvelope:"su Denvelope"},vault:{info:"Se elimini un elemento all'interno della cassaforte questo sarà eliminato immediatamente, e non potrà più essere recuperato."}},s=n(0),i=n(3),r=n(7);const l=firebase.firestore();class c{static get Language(){return localStorage.getItem("lang").toLowerCase()}static get Currency(){var e;return null!==(e=c.currency)&&void 0!==e?e:c.Get("settings->plan->currency")}static set Currency(e){c.currency=e,Object(s.e)("currencychange")}static get CurrencyLocale(){let e;switch(c.Currency){case"EUR":e="it-it";break;default:e="en-us"}return e}static GetDateElement(e,t){const n=document.createElement("span");n.setAttribute("data-use","date");const a=()=>{n.innerText=e.toLocaleDateString(c.Language,null!=t?t:r.a.DefaultDateFormatOptions)};return a(),window.addEventListener("translationlanguagechange",a),n}}c.Init=(e,t)=>{let n=e;n||(["/en","/it"].includes(location.pathname)?n=location.pathname.substr(1):localStorage.getItem("lang")?n=localStorage.getItem("lang"):navigator.languages?[n]=navigator.languages:n=navigator.language?navigator.language:"en"),c.IsSupportedLanguage(n)||(n="en"),localStorage.setItem("lang",n),document.documentElement.lang=c.Language;const a=Array.from(new Set(Array.from(document.querySelectorAll("[data-translation], [data-placeholder-translation], [data-content-translation], [data-aria-label-translation], [data-start-translation], [data-only-translation]")).map(e=>e.getAttribute("data-translation")||e.getAttribute("data-placeholder-translation")||e.getAttribute("data-content-translation")||e.getAttribute("data-aria-label-translation")||e.getAttribute("data-start-translation")||e.getAttribute("data-only-translation"))));document.querySelectorAll("[data-use=translation]").forEach(e=>e.remove()),a.forEach(e=>document.querySelectorAll(`[data-translation="${e}"]`).forEach(t=>t.appendChild(c.GetElement(e,{standalone:!1,initialSpace:!0})))),a.forEach(e=>document.querySelectorAll(`[data-placeholder-translation="${e}"]`).forEach(t=>{t.placeholder=c.Get(e)})),a.forEach(e=>document.querySelectorAll(`[data-content-translation="${e}"]`).forEach(t=>{t.content=c.Get(e)})),a.forEach(e=>document.querySelectorAll(`[data-aria-label-translation="${e}"]`).forEach(t=>t.setAttribute("aria-label",c.Get(e)))),a.forEach(e=>document.querySelectorAll(`[data-start-translation="${e}"]`).forEach(t=>t.insertAdjacentElement("afterbegin",c.GetElement(e,{standalone:!1,after:" "})))),a.forEach(e=>document.querySelectorAll(`[data-only-translation="${e}"]`).forEach(t=>{t.innerText=c.Get(e)})),c.TranslationRegistrations.forEach(e=>{e.element.innerText=c.GetFormattedTranslatedText(e.id,e.options)}),Object(s.e)("translationlanguagechange"),i.a.IsSignedIn&&l.collection(`users/${i.a.UserId}/config`).doc("preferences").get().then(e=>{var n;!t&&(null===(n=e.data())||void 0===n?void 0:n.language)||e.ref.set({language:c.Language},{merge:!0})})},c.Get=e=>{const t=e.split("->");let n;switch(c.Language){case"it-it":case"it":n=o;break;default:n=a}for(let e=0;e<t.length-1;e++)n=n[t[e]];return n[t[t.length-1]]},c.GetElement=(e,t={initialSpace:!1,before:"",after:"",standalone:!0})=>{const n=document.createElement("span"),a=()=>{n.innerText=c.GetFormattedTranslatedText(e,t)};return a(),t.standalone?window.addEventListener("translationlanguagechange",a):n.setAttribute("data-use","translation"),n},c.TranslationRegistrations=[],c.Register=(e,t,n)=>{c.Unregister(t),t.innerText=c.GetFormattedTranslatedText(e,n),c.TranslationRegistrations.push({id:e,element:t,options:n})},c.GetFormattedTranslatedText=(e,t)=>{var n,a;return((null==t?void 0:t.initialSpace)?" ":"")+(null!==(n=null==t?void 0:t.before)&&void 0!==n?n:"")+c.Get(e)+(null!==(a=null==t?void 0:t.after)&&void 0!==a?a:"")},c.Unregister=e=>{c.TranslationRegistrations=c.TranslationRegistrations.filter(t=>t.element!==e)},c.IsSupportedLanguage=e=>["en","en-us","it","it-it"].includes(e.toLowerCase())},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),o=n(4),s=n(2);class i{static get CurrentUser(){return i.auth.currentUser}static get UserId(){return i.sharedContentUserId||i.CurrentUser.uid}}i.auth=firebase.auth(),i.analytics=firebase.analytics(),i.sharedContentUserId=null,i.IsAuthenticated=!1,i.IsSignedIn=!1,i.SignOut=()=>{i.auth.signOut(),Object(a.c)(),location.href="/"},i.DeleteUser=()=>{let e;switch(i.auth.currentUser.providerData[0].providerId){case firebase.auth.GoogleAuthProvider.PROVIDER_ID:e=new firebase.auth.GoogleAuthProvider;break;case firebase.auth.FacebookAuthProvider.PROVIDER_ID:e=new firebase.auth.FacebookAuthProvider;break;case firebase.auth.TwitterAuthProvider.PROVIDER_ID:e=new firebase.auth.TwitterAuthProvider;break;case firebase.auth.GithubAuthProvider.PROVIDER_ID:e=new firebase.auth.GithubAuthProvider;break;case"yahoo.com":e=new firebase.auth.OAuthProvider("yahoo.com");break;case"microsoft.com":e=new firebase.auth.OAuthProvider("microsoft.com")}i.auth.signInWithPopup(e).then(e=>i.auth.currentUser.reauthenticateWithCredential(e.credential).then(()=>i.auth.currentUser.delete()))},i.Init=()=>{i.auth.app.options.authDomain="denvelope.com",i.auth.useDeviceLanguage(),i.auth.onAuthStateChanged(e=>i.AuthStateChanged(e))},i.RefreshToken=async()=>{await i.auth.currentUser.getIdToken(!0)},i.AuthStateChanged=async e=>{var t;null===(t=document.querySelector(".waiting-user"))||void 0===t||t.remove(),location.href.indexOf("/shared/")>-1&&(i.sharedContentUserId=location.href.split("/")[location.href.split("/").length-1],i.sharedContentUserId.indexOf("/")>-1&&i.sharedContentUserId.substr(0,i.sharedContentUserId.indexOf("/"))),e?(i.IsAuthenticated=null===i.sharedContentUserId||e.uid===i.sharedContentUserId,i.IsSignedIn=!0,o.e.innerText=e.email,o.g.forEach(e=>{e.src="/assets/img/icons/user.svg"}),e.displayName&&(o.f.innerText=e.displayName),e.photoURL&&await fetch(e.photoURL).then(()=>o.g.forEach(t=>{t.src=e.photoURL})).catch(e=>e)):(i.IsAuthenticated=!1,i.IsSignedIn=!1,"/"!==location.pathname&&-1===location.href.indexOf("/shared/")&&!Object(a.p)(document.documentElement.querySelector("main.error"))&&(location.pathname.indexOf("/account")>-1||location.pathname.indexOf("/settings")>-1)?location.href="/":i.LoadFirebaseUi()),i.IsSignedIn?(Object(a.s)(document.documentElement,"signed-out"),Object(a.a)(document.documentElement,"signed-in")):(Object(a.s)(document.documentElement,"signed-in"),Object(a.a)(document.documentElement,"signed-out")),Object(a.e)("userready")},i.LoadFirebaseUi=()=>{const e=document.createElement("script");e.src=`https://www.gstatic.com/firebasejs/ui/4.5.1/firebase-ui-auth__${s.a.Language.substr(0,2)}.js`,e.onload=()=>{const e={signInSuccessUrl:"/"===location.pathname?"account":"",callbacks:{signInSuccessWithAuthResult:e=>(i.analytics.setUserId(e.user.uid),i.analytics.logEvent(e.additionalUserInfo.isNewUser?"sign_up":"login",{method:e.additionalUserInfo.providerId}),!0)},signInOptions:[{provider:firebase.auth.GoogleAuthProvider.PROVIDER_ID,authMethod:"https://accounts.google.com",clientId:"1023448327269-h54u9u95f2cqs7m1bceqh9h0p1dskcmk.apps.googleusercontent.com"},firebase.auth.FacebookAuthProvider.PROVIDER_ID,firebase.auth.TwitterAuthProvider.PROVIDER_ID,firebase.auth.GithubAuthProvider.PROVIDER_ID,"yahoo.com","microsoft.com"],credentialHelper:firebaseui.auth.CredentialHelper.GOOGLE_YOLO,tosUrl:"terms",privacyPolicyUrl:()=>window.location.assign("privacy")},t=new firebaseui.auth.AuthUI(i.auth);t.disableAutoSignIn(),t.start(".firebaseui-auth-container",e)},document.body.append(e)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return p}));var a=n(0);const o=document.querySelector("header"),s=o.querySelector(".menu-toggle button"),i=document.querySelector(".menu-container"),r=i.querySelector(".menu"),l=r.querySelector(".upgrade-plan"),c=r.querySelector(".storage-info"),d=r.querySelector(".sign-out"),m=document.querySelectorAll("[data-update-field=photo]"),u=document.querySelector("[data-update-field=name]"),f=document.querySelector("[data-update-field=email]"),p=()=>Object(a.m)(i);s.addEventListener("click",()=>"flex"===i.style.display?p():Object(a.u)(i,"flex")),document.addEventListener("click",e=>{const t=e.target;r.contains(t)||s.contains(t)||p()})},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return l}));var a=n(0),o=n(1),s=n(2);class i{constructor(e){switch(this.container=document.querySelector(".modal-container").cloneNode(!0),this.element=this.container.querySelector(".modal"),this.spinner=this.element.querySelector(".spinner"),this.Content=this.element.querySelector(".content"),this.CloseButton=this.element.querySelector(".close"),this.ConfirmButton=this.element.querySelector(".confirm"),this.UpdateButton=this.element.querySelector(".update"),this.Show=e=>{var t;this.CloseButton.addEventListener("click",()=>{this.Hide(),this.Remove()}),this.ConfirmButton.addEventListener("click",this.OnConfirm),this.UpdateButton.addEventListener("click",this.OnUpdate),e?document.querySelectorAll(".modal.show:not(.keep-alive)").forEach(e=>e.parentElement.remove()):Object(a.a)(this.element,"keep-alive"),Object(a.l)(this.element,"show")||(Object(a.u)(this.container),Object(a.s)(this.element,"hide"),Object(a.a)(this.element,"show")),this.CloseButton.focus(),"none"===getComputedStyle(this.ConfirmButton).getPropertyValue("display")||this.ConfirmButton.disabled?"none"===getComputedStyle(this.UpdateButton).getPropertyValue("display")||this.UpdateButton.disabled||this.UpdateButton.focus():this.ConfirmButton.focus(),null===(t=this.Content.querySelector("input, select, button"))||void 0===t||t.focus(),document.addEventListener("mouseup",this.HideOnOuterClick),window.addEventListener("keydown",e=>{const t=e.key.toLowerCase();["escape"].includes(t)&&e.preventDefault(),"escape"===t&&this.HideAndRemove()})},this.Hide=()=>{Object(a.s)(this.element,"show"),Object(a.a)(this.element,"hide"),setTimeout(()=>Object(a.m)(this.container),1e3*getComputedStyle(this.element).getPropertyValue("animation-duration").replace(/[a-z]+/g,""))},this.Remove=()=>{this.OnClose(),setTimeout(()=>this.container.remove(),1e3*getComputedStyle(this.element).getPropertyValue("animation-duration").replace(/[a-z]+/g,"")),document.removeEventListener("mouseup",this.HideOnOuterClick)},this.HideAndRemove=()=>{this.Hide(),this.Remove()},this.AppendContent=e=>{Object(a.m)(this.spinner),e.filter(Boolean).forEach(e=>this.Content.append(e)),this.Content.querySelectorAll("input:not([type=checkbox])").forEach(e=>e.addEventListener("keydown",e=>{"Enter"===e.key&&(this.ConfirmButton.click(),this.UpdateButton.click())}))},this.RemoveContent=()=>{Object(a.u)(this.spinner,"block"),this.Content.innerHTML=""},this.HideOnOuterClick=e=>{this.element.contains(e.target)||Object(a.l)(this.element,"keep-alive")||this.HideAndRemove()},(null==e?void 0:e.titleTranslationId)&&(this.TitleTranslationId=e.titleTranslationId),(null==e?void 0:e.title)&&(this.Title=e.title),(null==e?void 0:e.subtitleTranslationId)&&(this.SubtitleTranslationId=e.subtitleTranslationId),(null==e?void 0:e.subtitle)&&(this.Subtitle=e.subtitle),null==e?void 0:e.action){case"confirm":Object(a.u)(this.ConfirmButton,"block");break;case"update":Object(a.u)(this.UpdateButton,"block")}(null==e?void 0:e.floating)&&(Object(a.a)(this.element,"floating"),Object(a.a)(this.container,"no-background")),!1===(null==e?void 0:e.animate)&&Object(a.a)(this.element,"no-animate"),(null==e?void 0:e.aside)&&Object(a.a)(this.element,"aside"),!1===(null==e?void 0:e.loading)?Object(a.m)(this.spinner):Object(a.u)(this.spinner,"block"),this.OnClose=this.OnConfirm=this.OnUpdate=()=>{},document.body.appendChild(this.container)}set Title(e){this.element.querySelector(".title").innerText=e}set Subtitle(e){this.element.querySelector(".subtitle").innerText=e}set TitleTranslationId(e){this.element.querySelector(".title").appendChild(s.a.GetElement(e))}set SubtitleTranslationId(e){this.element.querySelector(".subtitle").appendChild(s.a.GetElement(e))}}class r extends i{constructor(e,t){super({subtitle:e,floating:!0,animate:!1,aside:!0}),this.AppendContent([new o.a("div",{class:"transfer-info",children:[new o.a("div",{class:"progress-bar-container",children:[this.ProgressBar=new o.a("span",{class:"progress-bar"}).element]}).element,new o.a("p",{class:"status",children:[this.TransferSize=new o.a("span",{class:"transfer-size",innerText:0}).element,new o.a("span",{class:"tot-size",innerText:` / ${Object(a.g)(t)}`}).element]}).element]}).element,new o.a("div",{class:"upload-controls",children:[new o.a("button",{class:"pause upload-control",children:[new o.a("i",{class:"fas fa-pause fa-fw"}).element]}).element,new o.a("button",{class:"resume upload-control",children:[new o.a("i",{class:"fas fa-play fa-fw"}).element]}).element,new o.a("button",{class:"cancel upload-control",children:[new o.a("i",{class:"fas fa-times fa-fw"}).element]}).element]}).element]);const n=this.element.querySelector(".pause"),s=this.element.querySelector(".resume"),i=this.element.querySelector(".cancel");n.addEventListener("click",()=>{Object(a.m)(n),Object(a.u)(s,"block"),this.OnPause()}),s.addEventListener("click",()=>{Object(a.m)(s),Object(a.u)(n,"block"),this.OnResume()}),i.addEventListener("click",this.OnCancel),this.Show()}}class l extends i{constructor(e,t){super({subtitle:`${s.a.Get("api->messages->file->downloading")}: ${e}`,floating:!0,animate:!1,aside:!0}),this.AppendContent([new o.a("div",{class:"transfer-info",children:[new o.a("div",{class:"progress-bar-container",children:[this.ProgressBar=new o.a("span",{class:"progress-bar"}).element]}).element,new o.a("p",{class:"status",children:[this.TransferSize=new o.a("span",{class:"transfer-size",innerText:0}).element,new o.a("span",{class:"tot-size",innerText:` / ${Object(a.g)(t)}`}).element]}).element]}).element]),this.Show()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var a=n(0);const o=document.querySelector(".generic-message"),s=o.querySelector("p"),i=o.querySelector(".action"),r=o.querySelector(".dismiss");let l;const c=(e,t,n=2e3)=>new Promise(c=>{s.innerText=e,Object(a.p)(t)?(i.innerText=t,Object(a.u)(i,"block")):Object(a.m)(i),Object(a.u)(o,"flex"),n>=0&&(l=setTimeout(m,n)),r.addEventListener("click",()=>{clearTimeout(l),m()}),i.addEventListener("click",()=>{c(),clearTimeout(l),m()})}),d=()=>{c("",null,-1),Object(a.m)(r),Object(a.u)(o.querySelector(".spinner"),"block")},m=()=>Object(a.m)(o)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,o=n(9);!function(e){e.Pricing=class{static Plan(e){return new s(o[e])}},e.DefaultDateFormatOptions={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}(a||(a={}));class s{constructor(e){this.plan=e}Price(e,t){return this.plan.price[e][t]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(2);class o{}o.Init=()=>{Array.from(document.querySelectorAll("[data-keyboard-shortcut]")).forEach(e=>{e.title=`${a.a.Get("generic->keyboard_shortcut")}: ${e.getAttribute("data-keyboard-shortcut").replace("control","ctrl").split("+").join(" + ").toUpperCase()}`,o.Register(e.getAttribute("data-keyboard-shortcut"),()=>{e instanceof HTMLButtonElement||e instanceof HTMLAnchorElement?e.click():e instanceof HTMLInputElement&&e.focus()})}),window.addEventListener("keydown",e=>{const t=e.key.toLowerCase(),n=(e.ctrlKey&&"control"!==t?"control+":"")+(e.shiftKey&&"shift"!==t?"shift+":"")+t;o.ShortcutRegistrations.forEach(t=>{t.options.ignoreInInput&&["input","textarea"].includes(document.activeElement.tagName.toLowerCase())||t.shortcut===n&&("enter"!==n&&e.preventDefault(),t.callback(e))})})},o.ShortcutRegistrations=[],o.Register=(e,t,n={ignoreInInput:!0})=>o.ShortcutRegistrations.push({shortcut:e,callback:t,options:n})},function(e){e.exports=JSON.parse('{"100MB":{"price":{"USD":{"month":0,"year":0},"EUR":{"month":0,"year":0}}},"1GB":{"price":{"USD":{"month":2,"year":20},"EUR":{"month":2,"year":20}}},"10GB":{"price":{"USD":{"month":10,"year":100},"EUR":{"month":10,"year":100}}}}')},function(e,t,n){"use strict";var a=n(0),o=n(3),s=n(4),i=n(6),r=n(2);class l{}l.analytics=firebase.analytics(),l.Register=()=>{if(!navigator.serviceWorker)return;let e,t;window.addEventListener("load",()=>navigator.serviceWorker.register("/sw.js").then(e=>{navigator.serviceWorker.controller&&(e.waiting?l.UpdateReady(e.waiting):e.installing?l.TrackInstalling(e.installing):e.addEventListener("updatefound",()=>l.TrackInstalling(e.installing)))})),navigator.serviceWorker.addEventListener("controllerchange",()=>{e||(window.location.reload(),e=!0)});const n=document.querySelector(".install-pwa"),o=document.querySelector(".install-pwa + hr");window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),t=e,Object(a.v)([n,o],"block")}),window.addEventListener("appinstalled",()=>l.analytics.logEvent("install")),n.addEventListener("click",()=>{t.prompt(),t.userChoice.then(e=>{"accepted"===e.outcome&&Object(a.n)([n,o]),t=null})})},l.TrackInstalling=e=>e.addEventListener("statechange",()=>{"installed"===e.state&&l.UpdateReady(e)}),l.UpdateReady=e=>i.a(r.a.Get("pwa->update_available"),r.a.Get("generic->update"),-1).then(()=>{i.b(),l.analytics.logEvent("update"),firebase.firestore().terminate(),e.postMessage({action:"skipWaiting"})});var c=n(5),d=n(8),m=n(7);t.a=()=>{var e,t,n;const i=firebase.firestore(),u=firebase.analytics(),f=parseInt(localStorage.getItem("cache-size"),10);f&&i.settings({cacheSizeBytes:f,ignoreUndefinedProperties:!0}),i.enablePersistence({synchronizeTabs:!0}),l.Register(),(document.body.classList.contains("account")||document.body.classList.contains("settings"))&&(document.body.style.backgroundImage=`url(${null!==(e=localStorage.getItem("background-image-url"))&&void 0!==e?e:""})`);const p=()=>document.querySelectorAll(".plans .plan").forEach(e=>{const t=document.querySelector(".billing-periods .selected").classList[0];e.querySelector(".price").innerText=Intl.NumberFormat(r.a.CurrencyLocale,{style:"currency",currency:r.a.Currency,minimumFractionDigits:0}).format(m.a.Pricing.Plan(e.getAttribute("data-max-storage")).Price(r.a.Currency,t)).replace(/\s/,""),e.querySelector(".billing-period").innerText=` / ${r.a.Get(`generic->${t}`).toLowerCase()}`,e.querySelector(".storage").innerText=e.getAttribute("data-max-storage")});window.addEventListener("translationlanguagechange",p),window.addEventListener("currencychange",p),Array.from(null!==(n=null===(t=document.querySelector(".billing-periods"))||void 0===t?void 0:t.children)&&void 0!==n?n:[]).forEach(e=>e.addEventListener("click",()=>{var t;null===(t=e.parentElement.querySelector(".selected"))||void 0===t||t.classList.remove("selected"),Object(a.a)(e,"selected"),p()})),r.a.Init(),d.a.Init();const h=document.querySelector("#change-language .edit"),g=document.querySelector("#language-select");null==h||h.addEventListener("click",()=>{const e=new c.b({titleTranslationId:"generic->language",action:"confirm"});e.AppendContent([g]);const t=()=>{g.selectedIndex=g.querySelector(`[value^=${r.a.Language}]`).index};t(),window.addEventListener("translationlanguagechange",t),e.OnConfirm=async()=>{r.a.Init(g.selectedOptions[0].value,!0),e.HideAndRemove()},e.Show(!0)}),o.a.Init(),Object(a.q)();const v=document.querySelector(".cookie-banner");localStorage.getItem("cookie-consent")||(Object(a.u)(v,"flex"),v.querySelector("i:last-child").addEventListener("click",()=>Object(a.m)(document.querySelector(".cookie-banner")))),localStorage.setItem("cookie-consent","true"),Object(a.r)(),document.addEventListener("contextmenu",e=>{null===e.target.closest(".allow-context-menu")&&e.preventDefault()});const b=document.querySelector(".firebaseui-auth-container");document.querySelectorAll(".sign-in").forEach(e=>e.addEventListener("click",()=>{b.style.display="flex"})),b.addEventListener("click",e=>{const t=e.target;["button","a","p"].includes(t.tagName.toLowerCase())||(b.style.display="none")}),s.c.addEventListener("click",()=>o.a.SignOut()),window.addEventListener("load",()=>Object(a.s)(document.body,"preload")),d.a.Register("h",()=>{location.href="/"}),window.addEventListener("userready",()=>{o.a.IsAuthenticated&&(i.collection(`users/${o.a.UserId}/config`).doc("preferences").onSnapshot(e=>{var t,n,a,o,s;if(location.pathname.startsWith("/account")||location.pathname.startsWith("/settings")){const n=null===(t=e.data())||void 0===t?void 0:t.backgroundImageUrl;document.body.style.backgroundImage=n?`url(${n})`:"",localStorage.setItem("background-image-url",n)}const i=null!==(a=null===(n=e.data())||void 0===n?void 0:n.trackingEnabled)&&void 0!==a?a:!navigator.doNotTrack&&!window.doNotTrack;localStorage.setItem("tracking-enabled",`${i}`),u.setAnalyticsCollectionEnabled(i),r.a.Init(null!==(s=null===(o=e.data())||void 0===o?void 0:o.language)&&void 0!==s?s:r.a.Language)}),i.collection("users").doc(o.a.UserId).onSnapshot(e=>{if(!e.exists)return;const{usedStorage:t}=e.data(),{maxStorage:n}=e.data(),o=`${+(t/n*100).toFixed(2)}%`,i=document.querySelector("[data-update-field=used-storage]"),r=document.querySelector("[data-update-field=max-storage]");i.innerHTML=Object(a.g)(t),i.setAttribute("data-bytes",t),r.innerHTML=Object(a.g)(n),r.setAttribute("data-bytes",n),document.querySelector("[data-update-field=used-storage-percent]").innerHTML=`(${o})`,document.querySelector(".storage .used").style.width=o,t>0?Object(a.u)(s.h):Object(a.m)(s.h),Object(a.o)(n)?Object(a.u)(s.d):Object(a.m)(s.d)}))})}},,,function(e,t,n){"use strict";n.r(t);var a=n(10),o=n(6),s=n(0),i=n(5),r=n(3),l=n(2),c={defaultIcon:{name:"file"},icons:[{name:"html",fileExtensions:["html","htm","xhtml","html_vm","asp"],displayName:"HTML"},{name:"pug",fileExtensions:["jade","pug"],displayName:"pug"},{name:"markdown",fileExtensions:["md","markdown","rst"],displayName:"Markdown"},{name:"blink",fileExtensions:["blink"],displayName:"Blink"},{name:"css",fileExtensions:["css"],displayName:"CSS"},{name:"sass",fileExtensions:["scss","sass"],displayName:"Sass"},{name:"less",fileExtensions:["less"],displayName:"Less"},{name:"json",fileExtensions:["json","tsbuildinfo","json5"],fileNames:[".jscsrc",".jshintrc","tsconfig.json","tslint.json","composer.lock",".jsbeautifyrc",".esformatter","cdp.pid",".mjmlconfig"],displayName:"JSON"},{name:"jinja",fileExtensions:["jinja","jinja2","j2"],displayName:"Jinja"},{name:"sublime",fileExtensions:["sublime-project","sublime-workspace"],displayName:"Sublime"},{name:"yaml",fileExtensions:["yaml","YAML-tmLanguage","yml"],displayName:"YAML"},{name:"xml",fileExtensions:["xml","plist","xsd","dtd","xsl","xslt","resx","iml","xquery","tmLanguage","manifest","project"],fileNames:[".htaccess"],displayName:"XML"},{name:"image",fileExtensions:["png","jpeg","jpg","gif","ico","tif","tiff","psd","psb","ami","apx","bmp","bpg","brk","cur","dds","dng","exr","fpx","gbr","img","jbig2","jb2","jng","jxr","pbm","pgf","pic","raw","webp","eps","afphoto","ase","aseprite","clip","cpt","heif","heic","kra","mdp","ora","pdn","reb","sai","tga","xcf"],displayName:"Image"},{name:"javascript",fileExtensions:["js","esx","mjs"],displayName:"Javascript"},{name:"react",fileExtensions:["jsx"],displayName:"React"},{name:"react_ts",fileExtensions:["tsx"],displayName:"React (TypeScript)"},{name:"routing",fileExtensions:["routing.ts","routing.tsx","routing.js","routing.jsx","routes.ts","routes.tsx","routes.js","routes.jsx"],fileNames:["router.js","router.jsx","router.ts","router.tsx","routes.js","routes.jsx","routes.ts","routes.tsx"]},{name:"redux-action",fileExtensions:["action.js","actions.js","action.ts","actions.ts"],fileNames:["action.js","actions.js","action.ts","actions.ts"]},{name:"redux-reducer",fileExtensions:["reducer.js","reducers.js","reducer.ts","reducers.ts"],fileNames:["reducer.js","reducers.js","reducer.ts","reducers.ts"]},{name:"redux-store",fileExtensions:["store.js","store.ts"],fileNames:["store.js","store.ts"]},{name:"settings",fileExtensions:["ini","dlc","dll","config","conf","properties","prop","settings","option","props","toml","prefs","sln.dotsettings","sln.dotsettings.user","cfg"],fileNames:[".jshintignore",".buildignore",".mrconfig",".yardopts","manifest.mf",".clang-format",".clang-tidy"]},{name:"typescript",fileExtensions:["ts"],displayName:"TypeScript"},{name:"typescript-def",fileExtensions:["d.ts"]},{name:"markojs",fileExtensions:["marko"]},{name:"pdf",fileExtensions:["pdf"],displayName:"PDF"},{name:"table",fileExtensions:["xlsx","xls","csv","tsv"]},{name:"vscode",fileExtensions:["vscodeignore","vsixmanifest","vsix","code-workplace"]},{name:"visualstudio",fileExtensions:["csproj","ruleset","sln","suo","vb","vbs","vcxitems","vcxitems.filters","vcxproj","vcxproj.filters"]},{name:"database",fileExtensions:["pdb","sql","pks","pkb","accdb","mdb","sqlite","pgsql","postgres","psql"]},{name:"csharp",fileExtensions:["cs","csx"],displayName:"C#"},{name:"qsharp",fileExtensions:["qs"]},{name:"zip",fileExtensions:["zip","tar","gz","xz","br","bzip2","gzip","brotli","7z","rar","tgz"]},{name:"exe",fileExtensions:["exe","msi"]},{name:"java",fileExtensions:["java","jar","jsp"]},{name:"c",fileExtensions:["c","m","i","mi"],displayName:"C"},{name:"h",fileExtensions:["h"]},{name:"cpp",fileExtensions:["cc","cpp","cxx","c++","cp","mm","mii","ii"],displayName:"C++"},{name:"hpp",fileExtensions:["hh","hpp","hxx","h++","hp","tcc","inl"]},{name:"go",fileExtensions:["go"],displayName:"Go"},{name:"go-mod",fileNames:["go.mod","go.sum"]},{name:"python",fileExtensions:["py"],displayName:"Python"},{name:"python-misc",fileExtensions:["pyc","whl"],fileNames:["requirements.txt","pipfile",".python-version","manifest.in"]},{name:"url",fileExtensions:["url"]},{name:"console",fileExtensions:["sh","ksh","csh","tcsh","zsh","bash","bat","cmd","awk","fish"]},{name:"powershell",fileExtensions:["ps1","psm1","psd1","ps1xml","psc1","pssc"]},{name:"gradle",fileExtensions:["gradle"],fileNames:["gradle.properties","gradlew","gradle-wrapper.properties"]},{name:"word",fileExtensions:["doc","docx","rtf"]},{name:"certificate",fileExtensions:["cer","cert","crt"],fileNames:["license","license.md","license.txt","licence","licence.md","licence.txt","unlicense","unlicense.md","unlicense.txt"]},{name:"key",fileExtensions:["pub","key","pem","asc","gpg"],fileNames:[".htpasswd"]},{name:"font",fileExtensions:["woff","woff2","ttf","eot","suit","otf","bmap","fnt","odttf","ttc","font","fonts","sui","ntf","mrf"]},{name:"lib",fileExtensions:["lib","bib"]},{name:"ruby",fileExtensions:["rb","erb"]},{name:"gemfile",fileNames:["gemfile"]},{name:"fsharp",fileExtensions:["fs","fsx","fsi","fsproj"]},{name:"swift",fileExtensions:["swift"]},{name:"arduino",fileExtensions:["ino"]},{name:"docker",fileExtensions:["dockerignore","dockerfile"],fileNames:["dockerfile","docker-compose.yml","docker-compose.yaml","docker-compose.dev.yml","docker-compose.local.yml","docker-compose.ci.yml","docker-compose.override.yml","docker-compose.staging.yml","docker-compose.prod.yml","docker-compose.production.yml","docker-compose.test.yml"]},{name:"tex",fileExtensions:["tex","cls","sty","dtx","ltx"]},{name:"powerpoint",fileExtensions:["pptx","ppt","pptm","potx","potm","ppsx","ppsm","pps","ppam","ppa"]},{name:"video",fileExtensions:["webm","mkv","flv","vob","ogv","ogg","gifv","avi","mov","qt","wmv","yuv","rm","rmvb","mp4","m4v","mpg","mp2","mpeg","mpe","mpv","m2v"]},{name:"virtual",fileExtensions:["vdi","vbox","vbox-prev"]},{name:"email",fileExtensions:["ics"],fileNames:[".mailmap"]},{name:"audio",fileExtensions:["mp3","flac","m4a","wma","aiff"]},{name:"coffee",fileExtensions:["coffee","cson","iced"]},{name:"document",fileExtensions:["txt"]},{name:"graphql",fileExtensions:["graphql","gql"],fileNames:[".graphqlconfig"]},{name:"rust",fileExtensions:["rs"]},{name:"raml",fileExtensions:["raml"]},{name:"xaml",fileExtensions:["xaml"]},{name:"haskell",fileExtensions:["hs"]},{name:"kotlin",fileExtensions:["kt","kts"]},{name:"git",fileExtensions:["patch"],fileNames:[".gitignore",".gitconfig",".gitattributes",".gitmodules",".gitkeep","git-history"]},{name:"lua",fileExtensions:["lua"],fileNames:[".luacheckrc"]},{name:"clojure",fileExtensions:["clj","cljs","cljc"]},{name:"groovy",fileExtensions:["groovy"]},{name:"r",fileExtensions:["r","rmd"],fileNames:[".Rhistory"]},{name:"dart",fileExtensions:["dart"]},{name:"actionscript",fileExtensions:["as"]},{name:"mxml",fileExtensions:["mxml"]},{name:"autohotkey",fileExtensions:["ahk"]},{name:"flash",fileExtensions:["swf"]},{name:"swc",fileExtensions:["swc"]},{name:"cmake",fileExtensions:["cmake"],fileNames:["cmakelists.txt","cmakecache.txt"]},{name:"assembly",fileExtensions:["asm","a51","inc","nasm","s","ms","agc","ags","aea","argus","mitigus","binsource"]},{name:"vue",fileExtensions:["vue"]},{name:"vue-config",fileNames:["vue.config.js","vue.config.ts"]},{name:"vuex-store",fileExtensions:["store.js","store.ts"],fileNames:["store.js","store.ts"]},{name:"nuxt",fileNames:["nuxt.config.js","nuxt.config.ts"]},{name:"ocaml",fileExtensions:["ml","mli","cmx"]},{name:"javascript-map",fileExtensions:["js.map","mjs.map"]},{name:"css-map",fileExtensions:["css.map"]},{name:"lock",fileExtensions:["lock"]},{name:"handlebars",fileExtensions:["hbs","mustache"]},{name:"perl",fileExtensions:["pl","pm"]},{name:"haxe",fileExtensions:["hx"]},{name:"test-ts",fileExtensions:["spec.ts","e2e-spec.ts","test.ts","ts.snap"]},{name:"test-jsx",fileExtensions:["spec.tsx","test.tsx","tsx.snap","spec.jsx","test.jsx","jsx.snap"]},{name:"test-js",fileExtensions:["spec.js","e2e-spec.js","test.js","js.snap"]},{name:"angular",fileExtensions:["module.ts","module.js","ng-template"],fileNames:["angular-cli.json",".angular-cli.json","angular.json"],displayName:"Angular"},{name:"angular-component",fileExtensions:["component.ts","component.js"],displayName:"Angular Component"},{name:"angular-guard",fileExtensions:["guard.ts","guard.js"],displayName:"Angular Guard"},{name:"angular-service",fileExtensions:["service.ts","service.js"],displayName:"Angular Service"},{name:"angular-pipe",fileExtensions:["pipe.ts","pipe.js","filter.js"],displayName:"Angular Pipe"},{name:"angular-directive",fileExtensions:["directive.ts","directive.js"],displayName:"Angular Directive"},{name:"angular-resolver",fileExtensions:["resolver.ts","resolver.js"],displayName:"Angular Resolver"},{name:"puppet",fileExtensions:["pp"]},{name:"elixir",fileExtensions:["ex","exs","eex","leex"]},{name:"livescript",fileExtensions:["ls"]},{name:"erlang",fileExtensions:["erl"]},{name:"twig",fileExtensions:["twig"]},{name:"julia",fileExtensions:["jl"]},{name:"elm",fileExtensions:["elm"]},{name:"purescript",fileExtensions:["pure","purs"]},{name:"smarty",fileExtensions:["tpl"]},{name:"stylus",fileExtensions:["styl"]},{name:"reason",fileExtensions:["re","rei"]},{name:"bucklescript",fileExtensions:["cmj"]},{name:"merlin",fileExtensions:["merlin"]},{name:"verilog",fileExtensions:["v","vhd","sv","svh"]},{name:"mathematica",fileExtensions:["nb"]},{name:"wolframlanguage",fileExtensions:["wl","wls"]},{name:"nunjucks",fileExtensions:["njk","nunjucks"]},{name:"robot",fileExtensions:["robot"]},{name:"solidity",fileExtensions:["sol"]},{name:"autoit",fileExtensions:["au3"]},{name:"haml",fileExtensions:["haml"]},{name:"yang",fileExtensions:["yang"]},{name:"mjml",fileExtensions:["mjml"]},{name:"now",fileNames:["now.json",".nowignore"]},{name:"terraform",fileExtensions:["tf","tf.json","tfvars","tfstate"]},{name:"php",fileExtensions:["php","aw","ctp","fcgi","inc","php2","php3","php4","php5","phps","phpt"],fileNames:[".php",".php_cs",".php_cs.dist","Phakefile"],displayName:"PHP"},{name:"laravel",fileExtensions:["blade.php","inky.php"],displayName:"Laravel"},{name:"packet-tracer",fileExtensions:["pka","pkt","pkz"],iconName:"cisco",displayName:"Packet Tracer"},{name:"applescript",fileExtensions:["applescript"]},{name:"cake",fileExtensions:["cake"]},{name:"cucumber",fileExtensions:["feature"]},{name:"nim",fileExtensions:["nim","nimble"]},{name:"apiblueprint",fileExtensions:["apib","apiblueprint"]},{name:"riot",fileExtensions:["riot","tag"]},{name:"vfl",fileExtensions:["vfl"],fileNames:[".vfl"]},{name:"kl",fileExtensions:["kl"],fileNames:[".kl"]},{name:"postcss",fileExtensions:["pcss","sss"],fileNames:["postcss.config.js",".postcssrc.js",".postcssrc",".postcssrc.json",".postcssrc.yml"]},{name:"todo",fileExtensions:["todo"]},{name:"coldfusion",fileExtensions:["cfml","cfc","lucee","cfm"]},{name:"cabal",fileExtensions:["cabal"]},{name:"nix",fileExtensions:["nix"]},{name:"slim",fileExtensions:["slim"]},{name:"http",fileExtensions:["http","rest"]},{name:"restql",fileExtensions:["rql","restql"]},{name:"kivy",fileExtensions:["kv"]},{name:"graphcool",fileExtensions:["graphcool"],fileNames:["project.graphcool"]},{name:"sbt",fileExtensions:["sbt"]},{name:"webpack",fileNames:["webpack.js","webpack.ts","webpack.base.js","webpack.base.ts","webpack.config.js","webpack.config.ts","webpack.common.js","webpack.common.ts","webpack.config.common.js","webpack.config.common.ts","webpack.config.common.babel.js","webpack.config.common.babel.ts","webpack.dev.js","webpack.dev.ts","webpack.config.dev.js","webpack.config.dev.ts","webpack.config.dev.babel.js","webpack.config.dev.babel.ts","webpack.prod.js","webpack.prod.ts","webpack.server.js","webpack.server.ts","webpack.client.js","webpack.client.ts","webpack.config.server.js","webpack.config.server.ts","webpack.config.client.js","webpack.config.client.ts","webpack.config.production.babel.js","webpack.config.production.babel.ts","webpack.config.prod.babel.js","webpack.config.prod.babel.ts","webpack.config.prod.js","webpack.config.prod.ts","webpack.config.production.js","webpack.config.production.ts","webpack.config.staging.js","webpack.config.staging.ts","webpack.config.babel.js","webpack.config.babel.ts","webpack.config.base.babel.js","webpack.config.base.babel.ts","webpack.config.base.js","webpack.config.base.ts","webpack.config.staging.babel.js","webpack.config.staging.babel.ts","webpack.config.coffee","webpack.config.test.js","webpack.config.test.ts","webpack.config.vendor.js","webpack.config.vendor.ts","webpack.config.vendor.production.js","webpack.config.vendor.production.ts","webpack.test.js","webpack.test.ts","webpack.dist.js","webpack.dist.ts","webpackfile.js","webpackfile.ts"],displayName:"Webpack"},{name:"ionic",fileNames:["ionic.config.json",".io-config.json"]},{name:"gulp",fileNames:["gulpfile.js","gulpfile.ts","gulpfile.babel.js"]},{name:"nodejs",fileNames:["package.json","package-lock.json",".nvmrc",".esmrc"],displayName:"Node.JS"},{name:"npm",fileNames:[".npmignore",".npmrc"],displayName:"NPM"},{name:"yarn",fileNames:[".yarnrc","yarn.lock",".yarnclean",".yarn-integrity","yarn-error.log",".yarnrc.yml",".yarnrc.yaml"]},{name:"android",fileNames:["androidmanifest.xml"],fileExtensions:["apk"],displayName:"Android"},{name:"tune",fileExtensions:["env"],fileNames:[".env.example",".env.sample",".env.local",".env.dev",".env.development",".env.qa",".env.prod",".env.production",".env.staging",".env.preview",".env.test",".env.testing",".env.development.local",".env.qa.local",".env.production.local",".env.test.local"]},{name:"babel",fileNames:[".babelrc",".babelrc.js","babel.config.js"]},{name:"contributing",fileNames:["contributing.md"]},{name:"readme",fileNames:["readme.md","readme.txt","readme"],displayName:"README"},{name:"changelog",fileNames:["changelog","changelog.md","changelog.txt"],displayName:"CHANGELOG"},{name:"credits",fileNames:["credits","credits.txt","credits.md"],displayName:"CREDITS"},{name:"authors",fileNames:["authors","authors.md","authors.txt"],displayName:"AUTHORS"},{name:"flow",fileNames:[".flowconfig"]},{name:"favicon",fileNames:["favicon.ico"],displayName:"Favicon"},{name:"karma",fileNames:["karma.conf.js","karma.conf.ts","karma.conf.coffee","karma.config.js","karma.config.ts","karma-main.js","karma-main.ts"]},{name:"bithound",fileNames:[".bithoundrc"]},{name:"appveyor",fileNames:[".appveyor.yml","appveyor.yml"]},{name:"travis",fileNames:[".travis.yml"]},{name:"codecov",fileNames:[".codecov.yml","codecov.yml"]},{name:"protractor",fileNames:["protractor.conf.js","protractor.conf.ts","protractor.conf.coffee","protractor.config.js","protractor.config.ts"]},{name:"fusebox",fileNames:["fuse.js"]},{name:"heroku",fileNames:["procfile","procfile.windows"]},{name:"editorconfig",fileNames:[".editorconfig"]},{name:"gitlab",fileExtensions:["gitlab-ci.yml"]},{name:"bower",fileNames:[".bowerrc","bower.json"]},{name:"eslint",fileNames:[".eslintrc.js",".eslintrc.yaml",".eslintrc.yml",".eslintrc.json",".eslintrc",".eslintignore"]},{name:"conduct",fileNames:["code_of_conduct.md","code_of_conduct.txt"]},{name:"watchman",fileNames:[".watchmanconfig"]},{name:"aurelia",fileNames:["aurelia.json"]},{name:"mocha",fileNames:["mocha.opts",".mocharc.yml",".mocharc.yaml",".mocharc.js",".mocharc.json",".mocharc.jsonc"]},{name:"jenkins",fileNames:["jenkinsfile"],fileExtensions:["jenkinsfile","jenkins"]},{name:"firebase",fileNames:["firebase.json",".firebaserc"],displayName:"Firebase"},{name:"cloud_firestore_indexes",fileNames:["firestore.indexes.json"],displayName:"Cloud Firestore Indexes",iconName:"firebase"},{name:"cloud_firestore_security_rules",fileNames:["firestore.rules"],displayName:"Cloud Firestore Security Rules",iconName:"firebase"},{name:"rollup",fileNames:["rollup.config.js","rollup.config.ts","rollup-config.js","rollup-config.ts","rollup.config.common.js","rollup.config.common.ts","rollup.config.base.js","rollup.config.base.ts","rollup.config.prod.js","rollup.config.prod.ts","rollup.config.dev.js","rollup.config.dev.ts","rollup.config.prod.vendor.js","rollup.config.prod.vendor.ts"]},{name:"hack",fileNames:[".hhconfig"]},{name:"stylelint",fileNames:[".stylelintrc","stylelint.config.js",".stylelintrc.json",".stylelintrc.yaml",".stylelintrc.yml",".stylelintrc.js",".stylelintignore"]},{name:"code-climate",fileNames:[".codeclimate.yml"]},{name:"prettier",fileNames:[".prettierrc","prettier.config.js",".prettierrc.js",".prettierrc.json",".prettierrc.yaml",".prettierrc.yml",".prettierignore"]},{name:"nodemon",fileNames:["nodemon.json","nodemon-debug.json"]},{name:"ngrx-reducer",fileExtensions:["reducer.ts","rootReducer.ts"]},{name:"ngrx-state",fileExtensions:["state.ts"]},{name:"ngrx-actions",fileExtensions:["actions.ts"]},{name:"ngrx-effects",fileExtensions:["effects.ts"]},{name:"ngrx-entity",fileNames:[".entity"]},{name:"webhint",fileNames:[".hintrc"]},{name:"browserlist",fileNames:["browserslist",".browserslistrc"]},{name:"crystal",fileExtensions:["cr","ecr"]},{name:"snyk",fileNames:[".snyk"]},{name:"drone",fileExtensions:["drone.yml"],fileNames:[".drone.yml"]},{name:"cuda",fileExtensions:["cu","cuh"]},{name:"log",fileExtensions:["log"]},{name:"dotjs",fileExtensions:["def","dot","jst"]},{name:"ejs",fileExtensions:["ejs"]},{name:"sequelize",fileNames:[".sequelizerc"]},{name:"gatsby",fileNames:["gatsby.config.js","gatsby-config.js","gatsby-node.js","gatsby-browser.js","gatsby-ssr.js"]},{name:"wakatime",fileNames:[".wakatime-project"],fileExtensions:[".wakatime-project"]},{name:"circleci",fileNames:["circle.yml"]},{name:"cloudfoundry",fileNames:[".cfignore"]},{name:"grunt",fileNames:["gruntfile.js","gruntfile.ts","gruntfile.coffee","gruntfile.babel.js","gruntfile.babel.ts","gruntfile.babel.coffee"]},{name:"jest",fileNames:["jest.config.js","jest.config.ts","jest.config.json","jest.setup.js","jest.setup.ts","jest.json",".jestrc",".jestrc.js",".jestrc.json","jest.teardown.js"]},{name:"processing",fileExtensions:["pde"]},{name:"storybook",fileExtensions:["stories.js","stories.jsx","story.js","story.jsx","stories.ts","stories.tsx","story.ts","story.tsx"]},{name:"wepy",fileExtensions:["wpy"]},{name:"fastlane",fileNames:["fastfile","appfile"]},{name:"hcl",fileExtensions:["hcl"]},{name:"helm",fileNames:[".helmignore"]},{name:"san",fileExtensions:["san"]},{name:"wallaby",fileNames:["wallaby.js","wallaby.conf.js"]},{name:"django",fileExtensions:["djt"]},{name:"stencil",fileNames:["stencil.config.js","stencil.config.ts"]},{name:"red",fileExtensions:["red"]},{name:"makefile",fileNames:["makefile"]},{name:"foxpro",fileExtensions:["fxp","prg"]},{name:"i18n",fileExtensions:["pot","po","mo"]},{name:"webassembly",fileExtensions:["wat","wasm"]},{name:"semantic-release",fileNames:[".releaserc","release.config.js"]},{name:"bitbucket",fileNames:["bitbucket-pipelines.yaml","bitbucket-pipelines.yml"]},{name:"jupyter",fileExtensions:["ipynb"]},{name:"d",fileExtensions:["d"]},{name:"mdx",fileExtensions:["mdx"]},{name:"ballerina",fileExtensions:["bal","balx"]},{name:"racket",fileExtensions:["rkt"]},{name:"bazel",fileExtensions:["bzl","bazel"],fileNames:[".bazelignore",".bazelrc"]},{name:"mint",fileExtensions:["mint"]},{name:"velocity",fileExtensions:["vm","fhtml","vtl"]},{name:"godot",fileExtensions:["gd"]},{name:"godot-assets",fileExtensions:["godot","tres","tscn"]},{name:"azure-pipelines",fileNames:["azure-pipelines.yml","azure-pipelines.yaml"]},{name:"azure",fileExtensions:["azcli"]},{name:"vagrant",fileNames:["vagrantfile"],fileExtensions:["vagrantfile"]},{name:"prisma",fileNames:["prisma.yml"],fileExtensions:["prisma"]},{name:"razor",fileExtensions:["cshtml","vbhtml"]},{name:"asciidoc",fileExtensions:["ad","adoc","asciidoc"]},{name:"istanbul",fileNames:[".nycrc",".nycrc.json"]},{name:"edge",fileExtensions:["edge"]},{name:"scheme",fileExtensions:["ss","scm"]},{name:"tailwindcss",fileNames:["tailwind.js","tailwind.config.js"]},{name:"3d",fileExtensions:["stl","obj","ac","blend","mesh","mqo","pmd","pmx","skp","vac","vdp","vox"]},{name:"buildkite",fileNames:["buildkite.yml","buildkite.yaml"]},{name:"netlify",fileNames:["netlify.json","netlify.yml","netlify.yaml","netlify.toml"]},{name:"svg",fileExtensions:["svg"]},{name:"svelte",fileExtensions:["svelte"]},{name:"vim",fileExtensions:["vimrc","gvimrc","exrc"]},{name:"nest",fileNames:["nest-cli.json",".nest-cli.json","nestconfig.json",".nestconfig.json"]},{name:"nest-controller",fileExtensions:["controller.ts","controller.js"]},{name:"nest-middleware",fileExtensions:["middleware.ts","middleware.js"]},{name:"nest-module",fileExtensions:["module.ts","module.js"]},{name:"nest-service",fileExtensions:["service.ts","service.js"]},{name:"nest-decorator",fileExtensions:["decorator.ts","decorator.js"]},{name:"nest-pipe",fileExtensions:["pipe.ts","pipe.js"]},{name:"nest-filter",fileExtensions:["filter.ts","filter.js"]},{name:"nest-gateway",fileExtensions:["gateway.ts","gateway.js"]},{name:"nest-guard",fileExtensions:["guard.ts","guard.js"]},{name:"moonscript",fileExtensions:["moon"]},{name:"percy",fileNames:[".percy.yml"]},{name:"gitpod",fileNames:[".gitpod.yml"]},{name:"advpl_prw",fileExtensions:["prw","prx"]},{name:"advpl_ptm",fileExtensions:["ptm"]},{name:"advpl_tlpp",fileExtensions:["tlpp"]},{name:"advpl_include",fileExtensions:["ch"]},{name:"codeowners",fileNames:["codeowners"]},{name:"gcp",fileNames:[".gcloudignore"]},{name:"disc",fileExtensions:["iso"]},{name:"fortran",fileExtensions:["f","f77","f90","f95","f03","f08"]},{name:"liquid",fileExtensions:["liquid"]}]},d={defaultIcon:{name:"folder"},rootFolder:{name:"folder-root"},icons:[{name:"folder-src",folderNames:["src","source","sources"]},{name:"folder-dist",folderNames:["dist","out","build","release","bin"]},{name:"folder-css",folderNames:["css","stylesheet","stylesheets","style","styles"]},{name:"folder-sass",folderNames:["sass","_sass","scss","_scss"]},{name:"folder-images",folderNames:["images","image","img","icons","icon","ico","screenshot","screenshots"]},{name:"folder-scripts",folderNames:["script","scripts"]},{name:"folder-node",folderNames:["node_modules"]},{name:"folder-javascript",folderNames:["js","javascript","javascripts"]},{name:"folder-json",folderNames:["json"]},{name:"folder-font",folderNames:["font","fonts"]},{name:"folder-bower",folderNames:["bower_components"]},{name:"folder-test",folderNames:["test","tests","testing","__tests__","__snapshots__","__mocks__","__test__","spec","specs"]},{name:"folder-jinja",folderNames:["jinja","jinja2","j2"]},{name:"folder-markdown",folderNames:["markdown","md"]},{name:"folder-php",folderNames:["php"]},{name:"folder-phpmailer",folderNames:["phpmailer"]},{name:"folder-sublime",folderNames:["sublime"]},{name:"folder-docs",folderNames:["doc","docs","documents","documentation","post","posts"]},{name:"folder-git",folderNames:[".git","githooks",".githooks","submodules",".submodules"]},{name:"folder-github",folderNames:[".github"]},{name:"folder-gitlab",folderNames:[".gitlab"]},{name:"folder-vscode",folderNames:[".vscode",".vscode-test"]},{name:"folder-views",folderNames:["view","views","screen","screens","page","pages","html"]},{name:"folder-vue",folderNames:["vue"]},{name:"folder-expo",folderNames:[".expo",".expo-shared"]},{name:"folder-config",folderNames:["config","configs","configuration","configurations","settings",".settings","META-INF"]},{name:"folder-i18n",folderNames:["i18n","internationalization","lang","language","languages","locale","locales","localization","translation","translate","translations",".tx"]},{name:"folder-components",folderNames:["components"]},{name:"folder-aurelia",folderNames:["aurelia_project"]},{name:"folder-resource",folderNames:["resource","resources","res","asset","assets","static"]},{name:"folder-lib",folderNames:["lib","libs","library","libraries","vendor","vendors","third-party"]},{name:"folder-theme",folderNames:["themes","theme","color","colors","design","designs"]},{name:"folder-webpack",folderNames:["webpack",".webpack"]},{name:"folder-global",folderNames:["global"]},{name:"folder-public",folderNames:["public","wwwroot","web","website"]},{name:"folder-include",folderNames:["include","includes","_includes"]},{name:"folder-docker",folderNames:["docker","dockerfiles",".docker"]},{name:"folder-ngrx-effects",folderNames:["effects"]},{name:"folder-ngrx-store",folderNames:["store"]},{name:"folder-ngrx-state",folderNames:["states","state"]},{name:"folder-ngrx-reducer",folderNames:["reducers","reducer"]},{name:"folder-ngrx-actions",folderNames:["actions"]},{name:"folder-ngrx-entities",folderNames:["entities"]},{name:"folder-redux-reducer",folderNames:["reducers","reducer"]},{name:"folder-redux-actions",folderNames:["actions"]},{name:"folder-redux-store",folderNames:["store"]},{name:"folder-react-components",folderNames:["components"]},{name:"folder-database",folderNames:["db","database","databases","sql","data","_data"]},{name:"folder-log",folderNames:["log","logs"]},{name:"folder-temp",folderNames:["temp",".temp","tmp",".tmp","cached","cache",".cache"]},{name:"folder-aws",folderNames:["aws",".aws"]},{name:"folder-audio",folderNames:["audio","audios","music"]},{name:"folder-video",folderNames:["video","videos","movie","movies"]},{name:"folder-kubernetes",folderNames:["kubernetes","k8s"]},{name:"folder-import",folderNames:["import","imports","imported"]},{name:"folder-export",folderNames:["export","exports","exported"]},{name:"folder-wakatime",folderNames:["wakatime"]},{name:"folder-circleci",folderNames:[".circleci"]},{name:"folder-wordpress",folderNames:["wp-content"]},{name:"folder-gradle",folderNames:["gradle",".gradle"]},{name:"folder-coverage",folderNames:["coverage",".nyc-output",".nyc_output","e2e","it","integration-test","integration-tests"]},{name:"folder-class",folderNames:["class","classes","model","models"]},{name:"folder-other",folderNames:["other","others","misc","miscellaneous","extra","extras"]},{name:"folder-typescript",folderNames:["typescript","ts","typings","@types"]},{name:"folder-graphql",folderNames:["graphql","gql"]},{name:"folder-routes",folderNames:["routes","router"]},{name:"folder-ci",folderNames:[".ci","ci"]},{name:"folder-benchmark",folderNames:["benchmark","benchmarks","performance","measure","measures","measurement"]},{name:"folder-messages",folderNames:["messages","forum","chat","chats","conversation","conversations"]},{name:"folder-less",folderNames:["less"]},{name:"folder-python",folderNames:["python","__pycache__",".pytest_cache"]},{name:"folder-debug",folderNames:["debug","debugging"]},{name:"folder-fastlane",folderNames:["fastlane"]},{name:"folder-plugin",folderNames:["plugin","plugins","_plugins","extension","extensions","addon","addons"]},{name:"folder-middleware",folderNames:["middleware","middlewares"]},{name:"folder-controller",folderNames:["controller","controllers","service","services","provider","providers"]},{name:"folder-ansible",folderNames:["ansible"]},{name:"folder-server",folderNames:["server","servers","backend"]},{name:"folder-client",folderNames:["client","clients","frontend"]},{name:"folder-tasks",folderNames:["tasks","tickets"]},{name:"folder-android",folderNames:["android"]},{name:"folder-ios",folderNames:["ios"]},{name:"folder-upload",folderNames:["uploads","upload"]},{name:"folder-download",folderNames:["downloads","download"]},{name:"folder-tools",folderNames:["tools"]},{name:"folder-helper",folderNames:["helpers","helper"]},{name:"folder-serverless",folderNames:[".serverless","serverless"]},{name:"folder-api",folderNames:["api","apis"]},{name:"folder-app",folderNames:["app","apps"]},{name:"folder-archive",folderNames:["archive","archives","archival","backup","backups","back-up","back-ups"]},{name:"folder-batch",folderNames:["batch","batchs","batches"]},{name:"folder-cluster",folderNames:["cluster","clusters"]},{name:"folder-command",folderNames:["command","commands","cli","clis"]},{name:"folder-constant",folderNames:["constant","constants"]},{name:"folder-container",folderNames:["container","containers"]},{name:"folder-content",folderNames:["content","contents"]},{name:"folder-core",folderNames:["core"]},{name:"folder-delta",folderNames:["delta","deltas","changes"]},{name:"folder-dump",folderNames:["dump","dumps"]},{name:"folder-examples",folderNames:["example","examples","sample","samples","demo","demos"]},{name:"folder-environment",folderNames:[".env",".environment","env","environment","environments"]},{name:"folder-functions",folderNames:["function","functions","lambda","lambdas"]},{name:"folder-generator",folderNames:["generator","generators","generated","cfn-gen","gen","gens","auto"]},{name:"folder-hook",folderNames:["hook","hooks","trigger","triggers"]},{name:"folder-job",folderNames:["job","jobs"]},{name:"folder-keys",folderNames:["keys","key","token","tokens"]},{name:"folder-layout",folderNames:["layout","layouts"]},{name:"folder-mail",folderNames:["mail","mails","smtp"]},{name:"folder-mappings",folderNames:["mappings","mapping"]},{name:"folder-meta",folderNames:["meta"]},{name:"folder-packages",folderNames:["package","packages"]},{name:"folder-shared",folderNames:["shared"]},{name:"folder-stack",folderNames:["stack","stacks"]},{name:"folder-template",folderNames:["template","templates"]},{name:"folder-utils",folderNames:["util","utils"]},{name:"folder-private",folderNames:["private",".private"]},{name:"folder-error",folderNames:["error","errors","err"]},{name:"folder-event",folderNames:["event","events"]},{name:"folder-secure",folderNames:["auth","authentication","secure","security","cert","certs","certificate","certificates","ssl"]},{name:"folder-custom",folderNames:["custom","customs"]},{name:"folder-mock",folderNames:["mock","mocks","draft","drafts","concept","concepts","sketch","sketches"]},{name:"folder-syntax",folderNames:["syntax","syntaxes","spellcheck"]},{name:"folder-vm",folderNames:["vm","vms"]},{name:"folder-stylus",folderNames:["stylus"]},{name:"folder-flow",folderNames:["flow-typed"]},{name:"folder-rules",folderNames:["rule","rules","validation","validations","validator","validators"]},{name:"folder-review",folderNames:["review","reviews","revisal","revisals","reviewed"]},{name:"folder-animation",folderNames:["animation","animations","animated"]},{name:"folder-guard",folderNames:["guard","guards"]},{name:"folder-prisma",folderNames:["prisma"]},{name:"folder-pipe",folderNames:["pipe","pipes"]},{name:"folder-svg",folderNames:["svg","svgs"]},{name:"folder-vuex-store",folderNames:["store"]},{name:"folder-nuxt",folderNames:["nuxt",".nuxt"]},{name:"folder-vue-directives",folderNames:["directives"]},{name:"folder-vue",folderNames:["components"]},{name:"folder-mobile",folderNames:["mobile","mobiles","portable"]}]};class m{}m.Get=e=>[...c.icons,c.defaultIcon,...d.icons,d.defaultIcon].filter(t=>t.name===e)[0],m.GetDisplayName=e=>{let t;switch(e){case"cloud_firestore_indexes":case"cloud_firestore_security_rules":case"document":case"file":case"folder":case"image":t=l.a.Get(`api->languages->${e}`);break;default:t=m.Get(e).displayName}return t},m.Detect=(e,t)=>{let n,a=-1;return t?([n]=c.icons.filter(t=>{var n;return null===(n=t.fileNames)||void 0===n?void 0:n.includes(e)}),Object(s.p)(n)||c.icons.filter(t=>{var n;return(null===(n=t.fileExtensions)||void 0===n?void 0:n.filter(t=>e.endsWith(`.${t}`)).length)>0}).forEach(e=>{Object(s.p)(n)||(n=e);let t=-1;e.fileExtensions.forEach(e=>{var n;const a=null===(n=e.match(/\./g))||void 0===n?void 0:n.length;a>t&&(t=a)}),n.fileExtensions.forEach(e=>{var n;const a=null===(n=e.match(/\./g))||void 0===n?void 0:n.length;a>t&&(t=a)}),t>a&&(n=e,a=t)})):d.icons.forEach(t=>{var a;(null===(a=t.folderNames)||void 0===a?void 0:a.includes(e))&&(n=t)}),Object(s.p)(n)?n.name:(t?c:d).defaultIcon.name};var u=n(1),f=n(4),p=n(8);class h{static set Items(e){h.items=e}static get Items(){return h.items}static get Item(){return h.Items[0]}static Show(e){h.modal=new i.b,h.modal.AppendContent(e.sort((e,t)=>parseInt(e.getAttribute("data-index"),10)-parseInt(t.getAttribute("data-index"),10))),h.modal.Show(!0),h.modal.Content.querySelectorAll("button").forEach(e=>e.addEventListener("click",e=>{const t=e.target;g.Move.contains(t)||g.MoveSelector.contains(t)||h.Hide()})),h.modal.OnClose=()=>{h.Items.forEach(e=>e.classList.remove("selected")),h.Items=[]}}static Hide(){var e;null===(e=h.modal)||void 0===e||e.HideAndRemove(),h.modal=null}}class g{}g.View=document.querySelector("#cm-view"),g.Save=document.querySelector("#cm-save"),g.SaveToMyAccount=document.querySelector("#cm-save-to-my-account"),g.Share=document.querySelector("#cm-share"),g.SharingOptions=document.querySelector("#cm-sharing-options"),g.CopyShareableLink=document.querySelector("#cm-copy-shareable-link"),g.Unshare=document.querySelector("#cm-unshare"),g.Move=document.querySelector("#cm-move"),g.MoveSelector=document.querySelector("#move-selector"),g.MoveSelectorOptions=g.MoveSelector.querySelector(".options"),g.AddToStarred=document.querySelector("#cm-add-to-starred"),g.RemoveFromStarred=document.querySelector("#cm-remove-from-starred"),g.Rename=document.querySelector("#cm-rename"),g.Info=document.querySelector("#cm-info"),g.Download=document.querySelector("#cm-download"),g.Restore=document.querySelector("#cm-restore"),g.Delete=document.querySelector("#cm-delete"),g.DisplayImage=document.querySelector("#cm-display-image"),g.DisplayPdf=document.querySelector("#cm-display-pdf"),g.ValidateXml=document.querySelector("#cm-validate-xml"),g.ValidateJson=document.querySelector("#cm-validate-json"),g.AddFiles=document.querySelector("#cm-add-files"),g.AddFolder=document.querySelector("#cm-add-folder"),g.CreateFile=document.querySelector("#cm-create-file"),g.CreateFolder=document.querySelector("#cm-create-folder"),g.CreateVault=document.querySelector("#cm-create-vault"),g.UnlockVault=document.querySelector("#cm-unlock"),g.LockVault=document.querySelector("#cm-lock"),Object(a.a)();const v=firebase.firestore(),b=firebase.storage(),y=firebase.app().functions("europe-west1"),w=firebase.analytics(),x=document.querySelector(".add-content-options"),E=x.querySelector("#add-files"),j=x.querySelector("#files"),k=x.querySelector("#add-folder"),S=x.querySelector("#folder"),_=x.querySelector("#create-file"),O=x.querySelector("#create-folder"),N=document.querySelector("aside"),I=N.querySelector("#my-account"),L=N.querySelector("#shared"),q=N.querySelector("#starred"),A=N.querySelector("#recents"),C=N.querySelector("#trash"),T=document.querySelector("#search"),$=document.querySelector("#add-content"),R=document.querySelector(".folder-nav"),D=R.querySelector(".back-button"),U=R.querySelector(".empty-trash-button"),P=R.querySelector(".lock-vault-button"),z=document.querySelector(".user-content > span"),M=document.querySelector(".vault"),G=document.querySelector(".vault-info"),F=document.querySelector(".folders-container"),V=document.querySelector(".files-container"),B=document.querySelector(".show-file"),H=B.querySelector(".tabs"),W=document.querySelector("#editor");let Y,X;const J=new Map,K=document.querySelector(".context-menu-container"),Q=document.querySelector(".empty-folder"),Z=document.querySelector(".file-preview-container"),ee=Z.querySelector(".file-preview"),te=ee.querySelector(".spinner");let ne=null,ae=null,oe=!1;const se={},ie=location.pathname.startsWith("/folder/shared/");window.addEventListener("userready",async()=>{var e,t,n;if([E,g.AddFiles].forEach(e=>e.addEventListener("click",()=>{ue(),j.click()})),[k,g.AddFolder].forEach(e=>e.addEventListener("click",()=>{ue(),S.click()})),[_,g.CreateFile,O,g.CreateFolder].forEach(e=>e.addEventListener("click",()=>{ue();const t=e.contains(_)||e.contains(g.CreateFile),n=new i.b({titleTranslationId:t?"account->create_file":"account->create_folder",action:"confirm"}),a=new u.b({attributes:{id:"name",placeholder:l.a.Get("generic->name")}}).element.querySelector("input");a.addEventListener("input",()=>{n.ConfirmButton.disabled=0===a.value.length}),n.ConfirmButton.disabled=!0,n.AppendContent([a.parentElement]),n.OnConfirm=()=>{const e=a.value;n.element.querySelectorAll(".input-error").forEach(e=>e.remove()),Object(s.s)(a,"error"),e.length>0?(t?le("",e,0,Object(s.h)(!0)):Ee([],e,"/",Object(s.h)(!0),0),n.HideAndRemove()):(a.parentElement.insertAdjacentElement("beforebegin",new u.a("p",{innerText:l.a.Get("errors->empty"),class:"input-error"}).element),Object(s.a)(a,"error"))},n.Show(!0)})),I.addEventListener("click",()=>{Object(s.t)("root"),"/account"!==location.pathname&&history.pushState(null,"","/account"),de(),Ne(I)}),L.addEventListener("click",()=>{"/account/shared"!==location.pathname&&history.pushState(null,"","/account/shared"),Object(s.t)("shared"),de(),Ne(L)}),q.addEventListener("click",()=>{Ae()||history.pushState(null,"","/account/starred"),Object(s.t)("starred"),de(),Ne(q)}),A.addEventListener("click",()=>{Ce()||history.pushState(null,"","/account/recents"),Object(s.t)("root"),de(null,"updated","desc",20,!0,!1),Ne(A)}),C.addEventListener("click",()=>{Te()||history.pushState(null,"","/account/trash"),Object(s.t)("trash"),de(),Ne(C),U.disabled=!0}),T.addEventListener("input",()=>de(T.value)),T.addEventListener("focusin",()=>Object(f.a)()),$.addEventListener("click",me),j.addEventListener("change",e=>{const{files:t}=e.target;je(Array.from(t),Object(s.h)(!0)),j.value=null}),S.addEventListener("change",e=>{const{files:t}=e.target,n=t[0].webkitRelativePath.split("/")[0];Ee(Array.from(t),n,`${n}/`,Object(s.h)(!0),0),S.value=null}),g.View.addEventListener("click",()=>h.Items.forEach((e,t,n)=>pe(null,e,n.length>1))),g.Save.addEventListener("click",()=>{const e=Y.getValue(),t=H.querySelector(".active").id.split("-")[1];le(e,H.querySelector(".active").querySelector(".name").innerText,e.length,Object(s.h)(!0),t),v.collection(`users/${r.a.UserId}/files`).doc(t).update({...Object(s.k)()}),se.editor=!1,X=e,Object(s.s)(H.querySelector(".active"),"modified")}),g.SaveToMyAccount.addEventListener("click",()=>{h.Items.forEach(e=>y.httpsCallable("saveToMyAccount")({userId:r.a.UserId,id:e.id,type:e.classList[0]})),se.editor=!1}),g.Share.addEventListener("click",()=>{const{id:e}=h.Item,t=h.Item.classList[0];v.collection(`users/${r.a.UserId}/${t}s`).doc(e).update({shared:!0,...Object(s.k)()}),"folder"===t&&y.httpsCallable("shareFolder")({id:e,shared:!0}),navigator.share?g.SharingOptions.click():g.CopyShareableLink.click(),w.logEvent("share",{method:navigator.share?"share_api":"shareable_link",content_type:t,content_id:e})}),g.SharingOptions.addEventListener("click",()=>navigator.share({title:"Denvelope",text:`${l.a.Get("share->check_out")} ${h.Item.querySelector(".name p").innerText} ${l.a.Get("share->on_denvelope")}`,url:ve(h.Item,!0)})),g.CopyShareableLink.addEventListener("click",()=>navigator.clipboard.writeText(ve(h.Item,!0))),g.Unshare.addEventListener("click",()=>{const{id:e}=h.Item,t=h.Item.classList[0];v.collection(`users/${r.a.UserId}/${t}s`).doc(e).update({shared:!1,...Object(s.k)()}),"folder"===t&&y.httpsCallable("shareFolder")({id:e,shared:!1})}),g.Move.addEventListener("click",()=>{const e=h.Items;let t=Object(s.h)();h.Show([g.MoveSelector]);const n=async a=>{"root"===a?Object(s.m)(g.MoveSelector.querySelector(".back")):Object(s.u)(g.MoveSelector.querySelector(".back")),Object(s.u)(g.MoveSelector.querySelector(".spinner")),g.MoveSelectorOptions.innerHTML="",v.collection(`users/${r.a.UserId}/folders`).where("inVault","==",await $e()).where("parentId","==",a).get().then(a=>{Object(s.m)(g.MoveSelector.querySelector(".spinner")),g.MoveSelectorOptions.innerHTML="",a.forEach(a=>{if(0===e.filter(e=>e.id===a.id).length){const{element:o}=new u.a("div",{id:a.id,children:[new u.a("button",{class:"select",children:[new u.a("i",{class:"fas fa-folder"}).element,new u.a("span",{innerText:a.data().name}).element]}).element,new u.a("button",{class:"goto",children:[new u.a("i",{class:"fas fa-chevron-right"}).element]}).element]});g.MoveSelectorOptions.appendChild(o),o.querySelector(".select").addEventListener("click",async()=>{h.Hide(),De(e,o.id)}),o.querySelector(".goto").addEventListener("click",()=>{t=a.id,n(t)})}}),0===g.MoveSelectorOptions.innerHTML.trim().length&&g.MoveSelectorOptions.appendChild(new u.a("p",{class:"multiline",innerText:l.a.Get("account->context_menu->move->impossible")}).element)})};g.MoveSelector.querySelector(".back").addEventListener("click",async()=>{Object(s.m)(g.MoveSelector.querySelector(".back")),Object(s.u)(g.MoveSelector.querySelector(".spinner")),g.MoveSelectorOptions.innerHTML="",t=(await v.collection(`users/${r.a.UserId}/folders`).doc(t).get()).data().parentId,n(t)}),n(t)}),[g.AddToStarred,g.RemoveFromStarred].forEach(e=>e.addEventListener("click",()=>{const t=v.batch();h.Items.forEach(n=>t.update(v.collection(`users/${r.a.UserId}/${n.classList[0]}s`).doc(n.id),{starred:g.AddToStarred.contains(e),...Object(s.k)()})),t.commit()})),g.Rename.addEventListener("click",()=>{const{id:e}=h.Item,t=h.Item.classList[0],n=new i.b({action:"update"}),a=new u.b({attributes:{class:"name",placeholder:l.a.Get("generic->name")}}).element,o=a.querySelector(".name");o.addEventListener("input",()=>{n.UpdateButton.disabled=0===o.value.length}),n.AppendContent([a]),o.value=h.Item.querySelector(".name p").innerText,n.OnUpdate=async()=>{const a=o.value;n.element.querySelectorAll(".input-error").forEach(e=>e.remove()),Object(s.s)(o,"error"),n.Hide();const{parentId:i}=(await v.collection(`users/${r.a.UserId}/${t}s`).doc(e).get()).data(),c=await v.collection(`users/${r.a.UserId}/${t}s`).where("inVault","==",await $e()).where("parentId","==",i).where("name","==",a).get();a.length>0&&(0===c.size||c.docs[0].id===e)?(v.collection(`users/${r.a.UserId}/${t}s`).doc(e).update({name:a,...Object(s.k)()}),n.HideAndRemove()):(n.Show(!0),o.parentElement.insertAdjacentElement("beforebegin",new u.a("p",{innerText:l.a.Get(`errors->${0===a.length?"empty":"user_content->already_exists"}`),class:"input-error"}).element),Object(s.a)(o,"error"))},n.Show(!0)}),g.Info.addEventListener("click",()=>{const{id:e}=h.Item,t=h.Item.classList[0],n=new i.b;n.Show(!0),w.logEvent("view_item",{items:[{content_type:t,content_id:e}]});const a=v.collection(`users/${r.a.UserId}/${t}s`).doc(e).onSnapshot(async e=>{if(!e.exists||e.data().trashed)return n.HideAndRemove(),void a();n.RemoveContent();const o=e.data(),{name:i}=o;let c;if(r.a.IsAuthenticated&&(c=(await v.collection(`users/${r.a.UserId}/config`).doc("preferences").get()).data().dateFormatOptions,"default"===c&&(c=null)),n.AppendContent([new u.a("p",{children:[l.a.GetElement("generic->id"),new u.a("span",{innerText:e.id}).element]}).element,new u.a("p",{children:[l.a.GetElement("generic->name"),new u.a("span",{innerText:i}).element]}).element,new u.a("p",{children:[l.a.GetElement("generic->type"),new u.a("span",{innerText:m.GetDisplayName(m.Detect(i,"file"===t))||l.a.Get(`generic->${t}`)}).element]}).element,new u.a("p",{children:[l.a.GetElement("generic->created"),l.a.GetDateElement(new Date(1e3*o.created.seconds),c)]}).element,new u.a("p",{children:[l.a.GetElement("generic->last_modified"),l.a.GetDateElement(new Date(1e3*o.updated.seconds),c)]}).element,"file"===t?new u.a("p",{children:[l.a.GetElement("generic->size"),new u.a("span",{innerText:Object(s.g)(o.size||0)}).element]}).element:null]),r.a.IsAuthenticated){const e=xe(o.parentId,!1),t=new u.a("p",{children:[l.a.GetElement("generic->position"),new u.a("a",{href:e,innerText:"root"===o.parentId?l.a.Get("account->title"):"vault"===o.parentId?l.a.Get("generic->vault"):(await v.collection(`users/${r.a.UserId}/folders`).doc(o.parentId).get()).data().name}).element]}).element;t.querySelector("a").addEventListener("click",t=>{t.preventDefault(),location.href!==e&&history.pushState(null,"",e),Object(s.t)(o.parentId),de(),Ne(I),n.HideAndRemove()}),n.AppendContent([new u.a("p",{children:[l.a.GetElement("generic->shared"),l.a.GetElement(`generic->${o.shared?"yes":"no"}`)]}).element,new u.a("p",{children:[l.a.GetElement("generic->starred"),l.a.GetElement(`generic->${o.starred?"yes":"no"}`)]}).element,t])}});n.OnClose=a}),g.Download.addEventListener("click",()=>{const e=h.Items;e.forEach(async t=>{const{id:n}=t,a=t.classList[0];let o;if("folder"===a&&1===e.length){const e=new i.b({titleTranslationId:"api->messages->folder->choose_download_format"});e.AppendContent([new u.a("button",{id:"zip",innerText:".zip"}).element,new u.a("button",{id:"tar",innerText:".tar"}).element,new u.a("button",{id:"tar-gz",innerText:".tar.gz"}).element]),e.Show(),await new Promise(t=>e.Content.querySelectorAll("#zip, #tar, #tar-gz").forEach(n=>n.addEventListener("click",async()=>{e.HideAndRemove(),o=n.id.replace("-","."),t()})))}Le(n,t.querySelector(".name p").innerText,"folder"===a,o)})}),[g.Delete,g.Restore].forEach(e=>e.addEventListener("click",async()=>{const t=h.Items,n=v.batch(),a=await $e();t.forEach(t=>{const{id:o}=t,i=t.classList[0],l="true"===document.getElementById(o).getAttribute("data-trashed"),c=v.collection(`users/${r.a.UserId}/${i}s`).doc(o);!a&&(!l||l&&g.Restore.contains(e))?(n.update(c,{trashed:!l,...Object(s.k)()}),w.logEvent(l?"restore":"trash",{content_type:i,content_id:o})):(n.delete(c),w.logEvent("delete",{content_type:i,content_id:o}))}),n.commit(),1===t.length&&o.a(l.a.Get(`api->messages->${t[0].classList[0]}->${a?"deleted":"true"===document.getElementById(t[0].id).getAttribute("data-trashed")?g.Restore.contains(e)?"restored":"deleted":"moved_to_trash"}`)),Ue()&&(se.editor=!1,Pe())})),g.DisplayImage.addEventListener("click",async()=>{Object(s.u)(Z);const e=new Image,t=document.createElement("canvas"),n=t.getContext("2d");e.onload=()=>{Object(s.m)(te),ee.appendChild(t),t.width=e.width,t.height=e.height,n.drawImage(e,0,0,e.width,e.height,0,0,t.width,t.height)},e.onerror=()=>Z.click(),e.src=await b.ref(`${r.a.UserId}/${h.Item.id}`).getDownloadURL();let a=1;const o=e=>{if(a+=e.deltaY<0?.1:-.1,a<.1)return;const n=`scale(${a})`;t.style.transform=t.style.transform.split(" ").map(e=>e.indexOf("scale")>-1?n:e).join(" "),-1===t.style.transform.indexOf("scale")&&(t.style.transform+=n)};let i=0;const l=e=>{if("r"!==e.key.toLowerCase()||e.ctrlKey)return;i+=e.shiftKey?-90:90;const n=`rotate(${i}deg)`;t.style.transform=t.style.transform.split(" ").map(e=>e.indexOf("rotate")>-1?n:e).join(" "),-1===t.style.transform.indexOf("rotate")&&(t.style.transform+=n)};let c=0,d=0;const m=e=>{const n=e.key.toLowerCase();if(!n.startsWith("arrow"))return;switch(n){case"arrowleft":c+=10;break;case"arrowup":d+=10;break;case"arrowright":c-=10;break;case"arrowdown":d-=10}const a=`translateX(${c}px) translateY(${d}px)`;t.style.transform=t.style.transform.split(" ").map(e=>e.indexOf("translateX")>-1?a.split(" ")[0]:e.indexOf("translateY")>-1?a.split(" ")[1]:e).join(" "),-1===t.style.transform.indexOf("translate")&&(t.style.transform+=a)};let u,f;const p=e=>{if(e.target!==t&&"mousedown"===e.type)return;void 0===u&&void 0===f&&(u=e.offsetX+c,f=e.offsetY+d);const n=e.pageY-f,a=e.pageX-u;Object.assign(t.style,{top:`${n}px`,left:`${a}px`,transformOrigin:`${u}px ${f}px`}),document.addEventListener("mousemove",p);const o=()=>{u=f=void 0,document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",o)};document.addEventListener("mouseup",o)},g=e=>{t.contains(e.target)||(Object(s.m)(Z),t.remove(),document.removeEventListener("wheel",o),document.removeEventListener("keydown",l),document.removeEventListener("keydown",m),document.removeEventListener("mousedown",p),Z.removeEventListener("click",g))};Z.addEventListener("click",g),document.addEventListener("wheel",o),document.addEventListener("keydown",l),document.addEventListener("keydown",m),document.addEventListener("mousedown",p)}),g.DisplayPdf.addEventListener("click",async()=>{Object(s.u)(Z);const e=document.createElement("iframe");e.src=await b.ref(`${r.a.UserId}/${h.Item.id}`).getDownloadURL(),e.frameBorder="0",e.onload=()=>{Object(s.m)(te),Object(s.u)(e)},e.onerror=()=>Z.click(),Object(s.m)(e),ee.appendChild(e);const t=n=>{e.contains(n.target)||(Object(s.m)(Z),e.remove(),Z.removeEventListener("click",t))};Z.addEventListener("click",t)}),g.ValidateXml.addEventListener("click",()=>{const e=(new DOMParser).parseFromString(Y.getValue(),"text/xml"),t=e.getElementsByTagName("parsererror").length>0?e.getElementsByTagName("parsererror")[0].getElementsByTagName("div")[0].innerHTML:l.a.Get("generic->no_errors_found");o.a(t)}),g.ValidateJson.addEventListener("click",()=>{let e;try{JSON.parse(Y.getValue()),e=l.a.Get("generic->no_errors_found")}catch(t){e=t}o.a(e)}),[g.CreateVault,g.UnlockVault].forEach(e=>e.addEventListener("click",()=>M.click())),g.LockVault.addEventListener("click",()=>P.click()),D.addEventListener("click",async()=>{Object(s.m)(Q),Object(s.u)(z),_e(),R.querySelector("[data-update-field=folder-name]").innerHTML="",R.querySelector("[data-update-field=folder-name]").insertAdjacentElement("afterbegin",(new u.d).element),await $e(!1)?I.click():v.collection(`users/${r.a.UserId}/folders`).doc(Object(s.h)()).get().then(e=>{const{parentId:t}=e.data();if("vault"===t)return void M.click();Object(s.t)(t);const n=xe(Object(s.h)(),Oe());location.href!==n&&history.pushState(null,"",n),de()})}),U.addEventListener("click",()=>{U.disabled=!0,y.httpsCallable("emptyTrash")({})}),P.addEventListener("click",async()=>{y.httpsCallable("lockVault")({}).then(()=>r.a.RefreshToken()),I.click()}),f.h.addEventListener("click",e=>{e.preventDefault(),Object(f.a)(),"/account/storage/info"!==location.pathname&&history.pushState(null,"","/account/storage/info"),Object(s.t)("root"),de(null,"size","desc",20,!0,!1),Ne(I)}),document.addEventListener("scroll",()=>ue()),document.addEventListener("contextmenu",e=>null!==e.target.closest(".allow-context-menu")||null===e.target.closest(".user-content")||K.contains(e.target)?ue():me(e)),document.addEventListener("drop",e=>{const{items:t}=e.dataTransfer;Array.from(t).map(e=>e.webkitGetAsEntry()).forEach(e=>{if(e.isFile)e.file(e=>le(e,e.name,e.size,Object(s.h)(!0)));else if(e.isDirectory){const t=[];ke(e,`${e.name}/`,t),Ee(t,e.name,`${e.name}/`,Object(s.h)(!0),0)}})}),F.parentElement.addEventListener("mousedown",e=>{if(ge(e.target)&&2===e.button&&!Object(s.l)(Ie(e.target),"selected")&&[...F.children,...V.children].forEach(e=>Object(s.s)(e,"selected")),ge(e.target)||K.contains(e.target))return;if([...F.children,...V.children].forEach(e=>Object(s.s)(e,"selected")),2===e.button)return;const t=new u.a("div",{class:"multiple-content-selector",style:{top:`${e.pageY}px`,left:`${e.pageX}px`}}).element;document.body.appendChild(t);const n=n=>{Object(s.u)(t),ue();let a=e.pageX-n.pageX,o=e.pageY-n.pageY;const i=e.pageY-Math.max(o,0),r=e.pageX-Math.max(a,0);Math.abs(a)+r>document.documentElement.scrollWidth&&(a=document.documentElement.scrollWidth-r),Math.abs(o)+i+N.clientHeight>document.documentElement.scrollHeight&&(o=document.documentElement.scrollHeight-i-N.clientHeight),Object.assign(t.style,{top:`${i}px`,left:`${r}px`,width:`${Math.abs(a)}px`,height:`${Math.abs(o)}px`}),[...F.children,...V.children].forEach(e=>{const n=e.getBoundingClientRect(),a=t.getBoundingClientRect();n.top<=a.bottom&&n.bottom>=a.top&&n.left<=a.right&&n.right>=a.left?Object(s.a)(e,"selected"):Object(s.s)(e,"selected")}),h.Items=[...F.children,...V.children].filter(e=>Object(s.l)(e,"selected"))};document.addEventListener("mousemove",n),document.addEventListener("mouseup",()=>{document.removeEventListener("mousemove",n),t.remove()})}),M.addEventListener("click",e=>{M.querySelector(".menu-button button").contains(e.target)||v.collection(`users/${r.a.UserId}/vault`).doc("status").get().then(e=>{const t=()=>{"/account/vault"!==location.pathname&&history.pushState(null,"","/account/vault"),Object(s.t)("vault"),de(),r.a.RefreshToken()};if(e.exists&&!e.data().locked)return void t();const n=new i.b({titleTranslationId:`api->messages->vault->${e.exists?"unlock":"set_pin"}`,action:"confirm"}),a=new u.c({attributes:{id:"vault-pin",placeholder:l.a.Get("api->messages->vault->pin_or_recovery_code"),type:"password"},iconClassName:"fas fa-key fa-fw"}).element,o=a.querySelector("input");o.addEventListener("input",()=>{n.ConfirmButton.disabled=o.value.length<4}),n.ConfirmButton.disabled=!0,n.AppendContent([a]),n.OnConfirm=async()=>{const i=o.value;Object(s.l)(o,"error")&&a.previousElementSibling.remove(),Object(s.s)(o,"error"),n.Hide(),y.httpsCallable(e.exists?"unlockVault":"createVault")({pin:i}).then(i=>{i.data.success?(n.Remove(),t()):e.exists&&(Object(s.a)(o,"error"),a.insertAdjacentElement("beforebegin",new u.a("p",{class:"input-error",innerText:l.a.Get("api->messages->vault->wrong_pin")}).element),n.Show(!0))})},n.Show(!0)})}),null===(e=navigator.serviceWorker)||void 0===e||e.addEventListener("message",e=>{if("file"in e.data){const{file:t}=e.data;le(t,t.name,t.size,"root")}else"add"in e.data&&("file"===e.data.add?_.click():"folder"===e.data.add&&O.click())}),null===(n=null===(t=navigator.serviceWorker)||void 0===t?void 0:t.controller)||void 0===n||n.postMessage("ready"),location.href.indexOf("/file/")>-1){let e=location.href.indexOf("/shared/")>-1?location.href.substr(location.href.indexOf("/file/shared/")+13):location.href.substr(location.href.indexOf("/file/")+6);e.indexOf("/")>-1&&(e=e.substr(0,e.indexOf("/"))),ye(e),await v.collection(`users/${r.a.UserId}/files`).doc(e).get().then(e=>{Object(s.t)(e.data().parentId),de()})}await $e()&&r.a.RefreshToken(),"/account/storage/info"===location.pathname?f.h.click():Ce()?A.click():de(),r.a.IsAuthenticated&&v.collection(`users/${r.a.UserId}/vault`).doc("status").onSnapshot(e=>{if(e.exists){const{locked:t}=e.data(),n=document.createElement("i");n.className=`fas fa-lock${t?"":"-open"}`,M.querySelector(".name p").appendChild(n),M.setAttribute("data-locked",`${t}`),t?Object(s.a)(M,"disabled"):Object(s.s)(M,"disabled")}r.a.RefreshToken()})}),window.addEventListener("popstate",async()=>{let e="root";if(-1===location.href.indexOf("/account")){if(location.pathname.indexOf("/folder/")>-1)e=location.href.substr(location.href.indexOf("/folder/")+8);else if(location.pathname.indexOf("/file/")>-1)return e=location.href.substr(location.href.indexOf("/file/")+6),e.indexOf("/")>-1&&(e=e.substr(0,e.indexOf("/"))),void ye(e)}else location.pathname.indexOf("/account/shared/")>-1&&(e=location.href.substr(location.href.indexOf("/account/shared/")+16));e.indexOf("/")>-1&&(e=e.substr(0,e.indexOf("/"))),Object(s.t)(e),"/account/shared"===location.pathname?L.click():"/account/starred"===location.pathname?q.click():"/account/trash"===location.pathname?C.click():"/account/storage/info"===location.pathname?f.h.click():Ce()?A.click():(Ne(I),de())}),p.a.Register("control+s",()=>{Ue()&&(r.a.IsAuthenticated?g.Save.click():r.a.IsSignedIn&&g.SaveToMyAccount.click())},{ignoreInInput:!1}),p.a.Register("delete",()=>g.Delete.click()),p.a.Register("backspace",()=>{var e;return(null===(e=h.Items)||void 0===e?void 0:e.length)>0?g.Delete.click():"root"!==Object(s.h)()?D.click():null}),p.a.Register("d",()=>Le(Object(s.h)(),document.title,!0)),window.addEventListener("beforeunload",e=>{Object.values(se).some(e=>e)&&(e.preventDefault(),e.returnValue="")});const re=document.querySelector(".hide-vault-content");document.addEventListener("visibilitychange",async()=>{"hidden"===document.visibilityState&&await $e()?Object(s.u)(re,"flex"):Object(s.m)(re)}),window.addEventListener("blur",async()=>{await $e()&&Object(s.u)(re,"flex")}),window.addEventListener("focus",async()=>Object(s.m)(re));const le=async(e,t,n,a,i)=>new Promise(async(c,d)=>{const m=parseInt(document.querySelector("[data-update-field=used-storage]").getAttribute("data-bytes"),10),u=parseInt(document.querySelector("[data-update-field=max-storage]").getAttribute("data-bytes"),10);if(m+n>u)return d(),void o.a(l.a.Get("api->messages->user->not_enough_storage"));const f=()=>{se.fileUpload=!1,c()},p=e=>{se.fileUpload=!1,d(e)};se.fileUpload=!0;const h="root"!==Object(s.h)()&&oe,g=await $e(),y={customMetadata:{shared:`${h}`,inVault:`${g}`}};if(Object(s.p)(i)&&"string"==typeof e)ce(b.ref(`${r.a.UserId}/${i}`).putString(e,firebase.storage.StringFormat.RAW,y),t,n,i).then(()=>f()).catch(e=>p(e));else{let o=a;"shared"!==o&&"starred"!==o&&"trash"!==o||(o="root");const i=await Re(t,"file",o);v.collection(`users/${r.a.UserId}/files`).add({name:i,parentId:o,shared:h,starred:!1,trashed:!1,inVault:g,created:Object(s.j)(),...Object(s.k)()}).then(t=>{const{id:a}=t;w.logEvent("create",{content_type:"file",content_id:a}),"string"!=typeof e?ce(b.ref(`${r.a.UserId}/${a}`).put(e,y),i,n,a).then(()=>f()).catch(e=>p(e)):ce(b.ref(`${r.a.UserId}/${a}`).putString(e,firebase.storage.StringFormat.RAW,y),i,n,a).then(()=>f()).catch(e=>p(e))})}}),ce=async(e,t,n,a)=>new Promise((o,r)=>{if(n>0){const l=new i.c(t,n);l.OnPause=()=>e.pause(),l.OnResume=()=>e.resume(),l.OnCancel=()=>e.cancel(),e.on("state_changed",e=>{const t=e.bytesTransferred/e.totalBytes*100;l.ProgressBar.style.width=`${t}%`,l.TransferSize.innerText=Object(s.g)(e.bytesTransferred)},e=>{l.Remove(),r(e)},()=>{l.Remove(),w.logEvent("upload",{content_type:"file",content_id:a,size:n}),o()})}else o()}),de=async(e,t,n,a,o,i=!0)=>{const c=Object(s.h)(!0);if(_e(),o&&Object(s.m)(R),r.a.IsAuthenticated&&"root"===c&&navigator.onLine&&!e&&!o?Object(s.u)(M,"flex"):Object(s.m)(M),Object(s.m)(G),Object(s.m)(Q),Object(s.u)(z),""===c)return;Object(s.p)(ne)&&ne(),Object(s.p)(ae)&&ae(),Ue()&&-1===location.pathname.indexOf("/file/")&&Pe(),document.querySelectorAll("[data-update-field=folder-name]").forEach(e=>l.a.Unregister(e)),0!==(null!=e?e:"").length||o||("root"===c||"shared"===Object(s.h)(!0)||Ae()||Te()||-1!==location.pathname.indexOf("/file/")?(Te()?(Object(s.u)(R,"flex"),Object(s.u)(U),Object(s.n)([D,P,R.querySelector("[data-update-field=folder-name]")])):Object(s.m)(R),-1===location.pathname.indexOf("file")&&document.querySelectorAll("[data-update-field=folder-name]").forEach(e=>l.a.Register("account->title",e))):(await $e(!1)?document.querySelectorAll("[data-update-field=folder-name]").forEach(e=>l.a.Register("account->vault",e)):(R.querySelector("[data-update-field=folder-name]").innerHTML="",R.querySelector("[data-update-field=folder-name]").insertAdjacentElement("afterbegin",(new u.d).element),await v.collection(`users/${r.a.UserId}/folders`).doc(c).get().then(e=>{const t=e.data();if(document.querySelectorAll("[data-update-field=folder-name]").forEach(e=>{e.innerText=t.name}),oe=t.shared,Object(s.u)(R,"flex"),Object(s.u)(R.querySelector("[data-update-field=folder-name]")),Object(s.n)([U,P]),r.a.IsAuthenticated)Object(s.u)(D,"flex");else{const{parentId:e}=t;"root"===e?Object(s.m)(D):v.collection(`users/${r.a.UserId}/folders`).doc(e).get().then(()=>Object(s.u)(D,"flex")).catch(()=>Object(s.m)(D))}})),await $e()&&(Object(s.v)([R,D,G],"flex"),Object(s.u)(P),Object(s.m)(U)))),document.querySelector(".user-content").style.height=`calc(100% - ${document.querySelector(".top-section").clientHeight}px)`;let d=0;const m=async t=>{d++,fe(),Se()&&(2===d||t||1===d&&!i)&&(l.a.Register(`api->messages->folder->${navigator.onLine?(null==e?void 0:e.length)>0?"no_search_results":Ce()?"no_recents":await $e(!1)?"vault_empty":"empty":"offline"}`,Q.querySelector("h2")),Q.querySelector("img").src=`assets/img/miscellaneous/${navigator.onLine?qe()?"share":Ae()?"starred":Ce()?"empty-recents":Te()?"trash":await $e(!1)?"vault":"empty":"offline"}.svg${await $e()?"?v=3":""}`,Object(s.u)(Q,"flex")),(null==e?void 0:e.length)>0&&([...F.children,...V.children].filter(t=>t.getAttribute("data-search-term")!==e).forEach(e=>e.remove()),w.logEvent("view_search_results",{search_term:e})),U.disabled=Te()&&Se()},f=new Intl.Collator(void 0,{numeric:!0}),p=null==e?void 0:e.replace(/.$/,e=>String.fromCharCode(e.charCodeAt(0)+1));let h=v.collection(`users/${r.a.UserId}/folders`).where("trashed","==",Te()),g=v.collection(`users/${r.a.UserId}/files`).where("trashed","==",Te());qe()?(h=h.where("shared","==",!0),g=g.where("shared","==",!0)):Ae()&&(h=h.where("starred","==",!0),g=g.where("starred","==",!0)),qe()&&r.a.IsAuthenticated||Ae()||Te()||0!==(null!=e?e:"").length||o||(h=h.where("parentId","==",c),g=g.where("parentId","==",c)),(null==e?void 0:e.length)>0&&(h=h.where("name",">=",e).where("name","<",p),g=g.where("name",">=",e).where("name","<",p),w.logEvent("search",{search_term:e})),t&&(h=h.orderBy(t,null!=n?n:"desc"),g=g.orderBy(t,null!=n?n:"desc")),a&&(h=h.limit(a),g=g.limit(a)),h=h.where("inVault","==",await $e()),g=g.where("inVault","==",await $e()&&!Te());let b=0;i&&(ne=h.onSnapshot(n=>{Object(s.m)(z),Array.from(F.querySelectorAll("div.folder")).forEach(e=>Object(s.a)(e,"old")),n.docs.sort((e,n)=>t?0:f.compare(e.data().name,n.data().name)).forEach(t=>be("folder",t.data().name,t.id,t.data().shared,t.data().starred,t.data().trashed).setAttribute("data-search-term",null!=e?e:"")),F.querySelectorAll(".old").forEach(e=>e.remove()),m(b>0),b++}));let y=0;ae=g.onSnapshot(n=>{Object(s.m)(z),V.querySelectorAll("div.file").forEach(e=>Object(s.a)(e,"old")),n.docs.sort((e,n)=>t?0:f.compare(e.data().name,n.data().name)).forEach(t=>be("file",t.data().name,t.id,t.data().shared,t.data().starred,t.data().trashed).setAttribute("data-search-term",null!=e?e:"")),V.querySelectorAll(".old").forEach(e=>e.remove()),m(y>0),y++}),Object(s.q)()},me=e=>{var t,n,a;const o=e.target,i=Ie(e.target);h.Items=[...F.children,...V.children].filter(e=>Object(s.l)(e,"selected"));const l=[];if((ge(i)||null!==o.closest(".show-file .tabs .tab .menu"))&&h.Items.length<=1)ge(i)?h.Items=[i]:h.Items=[document.getElementById(H.querySelector(".active").id.split("-")[1])],r.a.IsAuthenticated&&"false"===h.Item.getAttribute("data-trashed")&&l.push(g.Move,g.Rename),"false"===h.Item.getAttribute("data-trashed")?("true"===h.Item.getAttribute("data-shared")?(navigator.share&&l.push(g.SharingOptions),l.push(g.CopyShareableLink),r.a.IsAuthenticated&&l.push(g.Unshare)):l.push(g.Share),"true"===h.Item.getAttribute("data-starred")&&r.a.IsAuthenticated?l.push(g.RemoveFromStarred):r.a.IsAuthenticated&&l.push(g.AddToStarred),null===o.closest(".show-file .tabs .tab .menu")?l.push(g.View):r.a.IsAuthenticated&&Object(s.p)(Y)&&l.push(g.Save),r.a.IsAuthenticated?l.push(g.Delete):r.a.IsSignedIn&&l.push(g.SaveToMyAccount),l.push(g.Info),navigator.onLine&&l.push(g.Download)):r.a.IsAuthenticated&&l.push(g.Delete,g.Restore);else if(r.a.IsAuthenticated&&0===h.Items.length)if(M.contains(o)){const e=M.getAttribute("data-locked");l.push("true"===e?g.UnlockVault:"false"===e?g.LockVault:g.CreateVault)}else l.push(g.AddFiles,g.AddFolder,g.CreateFile,g.CreateFolder);else h.Items.length>1&&(r.a.IsAuthenticated?l.push(g.Delete):r.a.IsSignedIn&&l.push(g.SaveToMyAccount),h.Items.filter(e=>"false"===e.getAttribute("data-trashed")).length>0?(r.a.IsAuthenticated&&(h.Items.filter(e=>"false"===e.getAttribute("data-starred")).length>0?l.push(g.AddToStarred):h.Items.filter(e=>"true"===e.getAttribute("data-starred")).length>0&&l.push(g.RemoveFromStarred),l.push(g.Move)),l.push(g.Download)):l.push(g.Restore),h.Items.filter(e=>Object(s.l)(e,"file")).length===h.Items.length&&l.push(g.View));const c=null===(t=o.closest(".tab"))||void 0===t?void 0:t.getAttribute("content-type"),d=null===(a=null===(n=o.closest(".tab"))||void 0===n?void 0:n.querySelector(".name"))||void 0===a?void 0:a.innerText;(null==c?void 0:c.startsWith("image/"))&&l.push(g.DisplayImage),"application/pdf"===c&&l.push(g.DisplayPdf),(null==d?void 0:d.endsWith(".xml"))&&l.push(g.ValidateXml),(null==d?void 0:d.endsWith(".json"))&&l.push(g.ValidateJson),h.Show(l)},ue=()=>{h.Hide(),h.Items=[]},fe=()=>{const e=document.querySelectorAll("div.folder .menu-button button,div.file .menu-button button"),t=document.querySelectorAll("div.folder, div.file");[...e,M.querySelector(".menu-button button")].forEach(e=>e.addEventListener("click",e=>{Object(s.a)(Ie(e.target),"selected"),me(e)})),Te()||[...t,D,M].forEach(e=>{const t=t=>{"mouseenter"===t.type&&Object(s.p)(document.querySelector(".dragging"))&&e.id!==document.querySelector(".dragging").id&&!Object(s.l)(e,"placeholder")?Object(s.a)(e,"target"):Object(s.s)(e,"target")};(Object(s.l)(e,"folder")||Object(s.l)(e,"back-button")||Object(s.l)(e,"vault"))&&(e.removeEventListener("mouseenter",t),e.removeEventListener("mouseleave",t),e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",t)),ge(e)&&(e.removeEventListener("mousedown",he),e.addEventListener("mousedown",he))})},pe=(e,t,n)=>{var a;const o=null!=t?t:e.target;if(null===o.closest(".menu-button")&&"false"===(null===(a=Ie(o))||void 0===a?void 0:a.getAttribute("data-trashed"))&&!Object(s.l)(Ie(o),"placeholder")&&!Object(s.l)(Ie(o),"dragging")){const t=o.closest("div.file"),a=1===(null==e?void 0:e.button);ue();const i=ve(Ie(o),!r.a.IsAuthenticated);a?open(i):(null===t?(Object(s.t)(o.closest("div.folder").id),de(),Ne(I)):ye(t.id,null,null,n),n||location.href===i||history.pushState(null,"",i))}},he=(e,t)=>{const n=Ie(e.target);let a=null==n?void 0:n.cloneNode(!0),o=!1;const i=[...h.Items||[],a].filter(Boolean),l=(t,i)=>{if(!Object(s.p)(a))return;const l=t.pageY,c=t.pageX;ue(),r.a.IsAuthenticated&&(i||((Math.abs(c-e.pageX)>5||Math.abs(l-e.pageY)>5)&&(o=!0),o&&Object(s.u)(a,"flex")),o&&([F,V].forEach(e=>e.querySelectorAll("div.folder, div.file").forEach(e=>Object(s.b)(e,["no-hover",Object(s.l)(e,"file")?"disabled":""]))),Object.assign(a.style,{top:`${l}px`,left:`${c}px`}),Object(s.a)(a,"dragging"),Object(s.a)(n,"placeholder"),Object(s.a)(document.documentElement,"grabbing")))},c=async e=>{const t=F.querySelector(".target");let d=null;[F,V].forEach(e=>e.querySelectorAll("div.folder, div.file").forEach(e=>{Object(s.s)(e,"no-hover"),Object(s.l)(e,"file")&&Object(s.s)(e,"disabled")})),Object(s.s)(n,"placeholder"),Object(s.s)(document.documentElement,"grabbing"),a.remove(),a=null,Object(s.p)(t)?(d=t.id,Object(s.s)(t,"target")):Object(s.l)(D,"target")?(d=await $e()?"root":(await v.collection(`users/${r.a.UserId}/folders`).doc(Object(s.h)()).get()).data().parentId,Object(s.s)(D,"target")):Object(s.l)(M,"target")&&("false"===M.getAttribute("data-locked")&&(d="vault"),Object(s.s)(M,"target")),o?Object(s.p)(d)&&r.a.IsAuthenticated&&De(i,d):pe(e),document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",c)};Object(s.p)(a)&&3!==e.which&&!t&&(Object(s.m)(a),document.body.appendChild(a),document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",c),document.addEventListener("mousemove",l),document.addEventListener("mouseup",c))},ge=e=>Object(s.p)(Ie(e)),ve=(e,t)=>`${location.origin}/${e.classList[0]}/${t?"shared/":""}${e.id}${t?`/${r.a.UserId}`:""}`,be=(e,t,n,a,o,i)=>{var r;const l=m.Get(m.Detect(t,"file"===e)),{element:c}=new u.a("div",{class:e,id:n,title:t,data:{shared:a,starred:o,trashed:i},children:[new u.a("div",{class:"icon",children:[new u.a("i",{style:{backgroundImage:`url("/assets/img/icons/languages/${null!==(r=l.iconName)&&void 0!==r?r:l.name}.svg?v=2")`}}).element]}).element,new u.a("div",{class:"name",children:[new u.a("p",{innerText:t}).element]}).element,new u.a("div",{class:"menu-button",children:[new u.a("button",{children:[new u.a("i",{class:"fas fa-ellipsis-v fa-fw"}).element]}).element]}).element]});return"file"===e?V.insertAdjacentElement("beforeend",c):F.insertAdjacentElement("beforeend",c),fe(),Object(s.m)(Q),c},ye=(e,t,n,a)=>{if(Object(s.a)(document.documentElement,"wait"),Object(s.a)(document.documentElement,"file-open"),Object(s.u)(B),f.b.style.backgroundColor=getComputedStyle(B).getPropertyValue("background-color"),t)return;Object(s.a)(document.documentElement,"file-loading");const o=e=>{W.innerHTML="",W.insertAdjacentElement("afterbegin",new u.a("button",{class:"force-download",children:[new u.a("i",{class:"fas fa-download"}).element,l.a.GetElement("generic->download",{initialSpace:!0})]}).element),W.querySelector(".force-download").addEventListener("click",()=>{H.querySelector(".active").setAttribute("data-force-download","false"),ye(e,!1,!0,a)}),Object(s.s)(document.documentElement,"wait"),Object(s.s)(document.documentElement,"file-loading")};v.collection(`users/${r.a.UserId}/files`).doc(e).get().then(t=>{var c,d,f;const{name:p}=t.data(),h=m.Detect(p,!0),{size:g}=t.data();if(!n){const t=m.Get(m.Detect(p,!0)),n=new u.a("div",{id:`tab-${e}`,class:`tab${null===H.querySelector(".tab.active")?" active":""}`,children:[new u.a("div",{class:"icon",children:[new u.a("i",{style:{backgroundImage:`url("/assets/img/icons/languages/${null!==(c=t.iconName)&&void 0!==c?c:t.name}.svg?v=2")`}}).element]}).element,new u.a("p",{class:"name",innerText:p}).element,new u.a("button",{class:"menu",children:[new u.a("i",{class:"fas fa-ellipsis-v fa-fw"}).element]}).element,new u.a("button",{class:"close",children:[new u.a("i",{class:"fas fa-times fa-fw"}).element]}).element]}).element;n.addEventListener("click",e=>{var t;const a=e.target;if(null!==a.closest(".close"))return;const{id:i}=a.closest(".tab");null==Y||Y.setModel(J.get(i.split("-")[1])),Object(s.s)(H.querySelector(".active"),"active"),Object(s.a)(H.querySelector(`#${i}`),"active"),null===(t=W.querySelector(".force-download"))||void 0===t||t.remove(),"true"===n.getAttribute("data-force-download")&&o(i.split("-")[1])}),n.querySelector(".menu").addEventListener("click",me),n.querySelector(".close").addEventListener("click",()=>{var t,a,i;null===(t=J.get(e))||void 0===t||t.dispose(),J.delete(e),n.remove(),0!==J.size||0!==H.childElementCount?Object(s.l)(n,"active")&&(null==Y||Y.setModel(Array.from(J.values())[0]),Object(s.a)(null!==(a=H.querySelector(`#tab-${Array.from(J.keys())[0]}`))&&void 0!==a?a:H.children[0],"active"),null===(i=W.querySelector(".force-download"))||void 0===i||i.remove(),"true"===H.querySelector(".active").getAttribute("data-force-download")&&o(H.querySelector(".active").id.split("-")[1])):Pe()}),r.a.IsAuthenticated||ie||Object(s.m)(n.querySelector(".close")),H.appendChild(n),1===H.children.length&&n.querySelector(".menu").focus()}if(a||(document.head.querySelector("[data-update-field=folder-name]").innerText=p),Object(s.q)(),!navigator.onLine)return W.innerHTML="",W.insertAdjacentElement("afterbegin",l.a.GetElement("errors->offline")),Object(s.s)(document.documentElement,"wait"),void Object(s.s)(document.documentElement,"file-loading");const v=b.ref(`${r.a.UserId}/${e}`);if(v.getMetadata().then(t=>{const{contentType:n}=t;H.querySelector(`#tab-${e}`).setAttribute("content-type",n)}),((null===(d=navigator.connection)||void 0===d?void 0:d.saveData)&&g>1e6||g>(null===(f=navigator.connection)||void 0===f?void 0:f.downlink)/8*1e3*1e3)&&!n)return o(e),void H.querySelector(`#tab-${e}`).setAttribute("data-force-download","true");n&&W.querySelector(".force-download").remove(),v.getDownloadURL().then(t=>fetch(t).then(async t=>{const a=parseInt(t.headers.get("Content-Length"),10);let o="";if(g>0){const e=new i.a(p,a);o=(new TextDecoder).decode(await we(t.body,e,a))}((e,t,n,a)=>{Object(s.s)(document.documentElement,"wait"),Object(s.s)(document.documentElement,"file-loading"),se.editor=!1,X=t,Y||(Y=monaco.editor.create(W,{model:null,theme:"vs-dark",automaticLayout:!0,readOnly:!r.a.IsSignedIn}));const o=monaco.editor.createModel(t,n);a&&Y.setModel(o),J.set(e,o),Y.onDidChangeModelContent(()=>{se.editor=X!==Y.getValue(),se.editor?Object(s.a)(H.querySelector(".active"),"modified"):Object(s.s)(H.querySelector(".active"),"modified")})})(e,o,h,n||H.querySelector(".active").id.split("-")[1]===e)})).catch(e=>e)})},we=async(e,t,n)=>{const a=e.getReader();let o=0;const i=new ReadableStream({start(e){const i=()=>{a.read().then(({done:a,value:r})=>{if(a)return void e.close();e.enqueue(r),o+=r.length;const l=o/n*100;t.ProgressBar.style.width=`${l}%`,t.TransferSize.innerText=Object(s.g)(o),i()})};i()}});return t.Remove(),new Response(i).arrayBuffer()},xe=(e,t)=>"root"!==e&&"shared"!==e&&"starred"!==e&&"trash"!==e&&"vault"!==e?ve({classList:["folder"],id:e},t):`${location.origin}/account${"root"!==e?`/${e}`:""}`,Ee=async(e,t,n,a,o)=>{let i=t,l=a;0===o&&(i=await Re(i,"folder",a)),"shared"!==l&&"starred"!==l&&"trash"!==l||(l="root"),v.collection(`users/${r.a.UserId}/folders`).add({name:i,parentId:l,shared:!1,starred:!1,trashed:!1,inVault:await $e(),created:Object(s.j)(),...Object(s.k)()}).then(t=>{const{id:a}=t,s=new Set;w.logEvent(0===o?"upload":"create",{content_type:"folder",content_id:a});const i=o+1;e.forEach(e=>{i<e.webkitRelativePath.split("/").length-1&&s.add(e.webkitRelativePath.split("/")[i])}),Array.from(s).filter(e=>e.length>0).forEach(t=>Ee(e.filter(e=>0===e.webkitRelativePath.indexOf(`${n+t}/`)),t,`${n+t}/`,a,i)),je(e.filter(e=>e.webkitRelativePath.substr(n.length)===e.name),a)})},je=async(e,t)=>{for await(const n of e)le(n,n.name,n.size,t)},ke=(e,t,n)=>{const a=e.createReader(),o=()=>{a.readEntries(e=>{e.length&&(o(),e.forEach(e=>{e.isDirectory?ke(e,`${t+e.name}/`,n):e.isFile&&e.file(a=>{Object.defineProperties(a,{webkitRelativePath:{writable:!0}}),Object.assign(a,{webkitRelativePath:t+e.name}),n.push(a)})}))})};return o(),n},Se=()=>""===F.innerHTML.trim()&&""===V.innerHTML.trim(),_e=()=>{F.innerHTML=V.innerHTML=""},Oe=()=>!r.a.IsAuthenticated||location.pathname.indexOf("/shared")>-1,Ne=e=>{Object(s.s)(I,"selected"),Object(s.s)(L,"selected"),Object(s.s)(q,"selected"),Object(s.s)(A,"selected"),Object(s.s)(C,"selected"),Object(s.a)(e,"selected"),T.value=""},Ie=e=>null==e?void 0:e.closest("div.folder, div.file"),Le=async(e,t,n,a)=>{let o,l=t,c=a;if(!n||Object(s.p)(c)&&["zip","tar","tar.gz"].includes(c)||(c="zip"),n){const t=new i.b({subtitleTranslationId:"api->messages->folder->compressing",floating:!0,aside:!0});t.Show(),await y.httpsCallable("createFolderArchive")({id:e,userId:r.a.UserId,format:c}).then(e=>{o=e.data.timestamp}).finally(()=>t.HideAndRemove()),l+=`.${c}`}const d=b.ref(`${r.a.UserId}/${e}${n?`.${o}.${c}`:""}`);d.getDownloadURL().then(e=>fetch(e).then(async e=>{const t=parseInt(e.headers.get("Content-Length"),10),n=new i.a(l,t);return se.fileDownload=!0,new Blob([await we(e.body,n,t)])}).then(e=>{const t=URL.createObjectURL(e),a=document.createElement("a");a.download=l,a.href=t,document.body.appendChild(a),a.click(),a.remove(),se.fileDownload=!1,n&&d.delete()}))},qe=()=>"/account/shared"===location.pathname||!r.a.IsAuthenticated,Ae=()=>"/account/starred"===location.pathname,Ce=()=>"/account/recents"===location.pathname,Te=()=>"/account/trash"===location.pathname,$e=async e=>"/account/vault"===location.pathname&&"vault"===Object(s.h)(!0)||(!Object(s.p)(e)||e)&&"root"!==await Object(s.i)()&&(await v.collection(`users/${r.a.UserId}/folders`).doc(await Object(s.i)()).get()).data().inVault,Re=async(e,t,n)=>{let a=e;const o=e.indexOf(".")>-1&&"file"===t?e.substr(0,e.lastIndexOf(".")):e,s=o.replace(/.$/,e=>String.fromCharCode(e.charCodeAt(0)+1)),i=await v.collection(`users/${r.a.UserId}/${t}s`).where("inVault","==","vault"===n).where("parentId","==",n).where("name",">=",o).where("name","<",s).get();if(i.size>0&&i.docs.filter(t=>t.data().name===e).length>0){let n,o=1;do{n="file"===t?`${e.substring(0,e.lastIndexOf(".")>-1?e.lastIndexOf("."):void 0)} (${o++})${e.indexOf(".")>-1?".":""}${e.indexOf(".")>-1?e.split(".").pop():""}`.trim():`${e} (${o++})`}while(i.docs.filter(e=>e.data().name===n).length>0);a=n}return a},De=async(e,t)=>{const n=v.batch();for(const a of e){const e=a.classList[0],{id:o}=a,i=v.collection(`users/${r.a.UserId}/${e}s`).doc(o);let{name:l}=(await i.get()).data();l=await Re(l,e,t),n.update(i,{name:l,parentId:t,inVault:"vault"===t,...Object(s.k)()})}n.commit()},Ue=()=>"none"!==getComputedStyle(B).getPropertyValue("display"),Pe=()=>{if((null==se?void 0:se.editor)&&!confirm(l.a.Get("generic->are_you_sure")))return;J.forEach(e=>e.dispose()),J.clear(),W.innerHTML="",H.innerHTML="",f.b.style.backgroundColor="",Y=null,se.editor=!1;const e=xe(Object(s.h)(!0),Oe());Object(s.n)([B,Z]),Object(s.s)(document.documentElement,"wait"),Object(s.s)(document.documentElement,"file-loading"),Object(s.s)(document.documentElement,"file-open"),Object(s.l)(A,"selected")?A.click():(location.href!==e&&history.pushState(null,"",e),de())};if(location.pathname.indexOf("/account")>-1||location.pathname.indexOf("/folder/")>-1||location.pathname.indexOf("/file/")>-1){let e="root";if(location.pathname.indexOf("/folder/")>-1)-1===location.pathname.indexOf("/shared/")?(e=location.pathname.substr(8),e.indexOf("/")>-1&&(e=e.substr(0,e.indexOf("/")))):(e=location.pathname.substr(15),e.indexOf("/")>-1&&(e=e.substr(0,e.indexOf("/")))),Object(s.a)(-1===location.href.indexOf("/shared/")?I:L,"selected");else if(location.pathname.indexOf("/file/")>-1){e="",Object(s.a)(-1===location.href.indexOf("/shared/")?I:L,"selected");let t=location.href.indexOf("/shared/")>-1?location.href.substr(location.href.indexOf("/file/shared/")+13):location.href.substr(location.href.indexOf("/file/")+6);t.indexOf("/")>-1&&(t=t.substr(0,t.indexOf("/"))),ye(t,!0)}else"/account/shared"===location.pathname?(e="shared",Object(s.a)(L,"selected")):"/account/starred"===location.pathname?(e="starred",Object(s.a)(q,"selected")):"/account/recents"===location.pathname?Object(s.a)(A,"selected"):"/account/trash"===location.pathname?(e="trash",Object(s.a)(C,"selected")):"/account/vault"===location.pathname?(e="vault",Object(s.a)(I,"selected")):(location.pathname,Object(s.a)(I,"selected"));Object(s.t)(e)}}]);